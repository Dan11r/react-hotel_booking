{"version":3,"sources":["app/components/common/Button/Button.jsx","app/services/localStorage.service.js","app/services/http.service.js","app/services/user.service.js","app/hooks/useAuth.jsx","app/hooks/useFetching.jsx","app/hooks/useMockData.jsx","app/hooks/useModal.jsx","app/hooks/usePagination.jsx","app/utils/paginate.js","app/hooks/useRoomsFilter.jsx","app/hooks/useSort.jsx","app/hooks/useForm.jsx","app/utils/validator.js","app/components/common/Fields/Checkbox/index.js","app/components/common/Fields/Checkbox/Checkbox.jsx","app/components/common/Fields/CheckboxList/index.js","app/components/common/Fields/CheckboxList/CheckBoxList.jsx","app/components/common/Fields/DatePickerField/index.js","app/components/common/Fields/DatePickerField/DatePickerField.jsx","app/components/common/Fields/DateOfStay/index.js","app/components/common/Fields/DateOfStay/DateOfStay.jsx","app/utils/declOfNum.js","app/components/common/Divider/Divider.jsx","app/components/common/Divider/index.js","app/components/common/Button/index.js","app/components/common/Counter/index.js","app/components/common/Counter/Counter.jsx","app/components/common/Fields/InputField/InputField.jsx","app/components/common/Fields/InputField/index.js","app/components/common/Fields/RadioGroupField/index.js","app/components/common/Fields/RadioGroupField/RadioGroupField.jsx","app/components/common/Loader/index.js","app/components/common/Loader/Loader.jsx","app/components/common/Fields/RangeSliderField/RangeSliderField.jsx","app/components/common/Fields/RangeSliderField/index.js","app/components/common/Rating/index.js","app/components/common/Rating/Rating.jsx","app/components/common/Fields/RatingField/RatingField.jsx","app/components/common/Fields/RatingField/index.js","app/components/common/Fields/SelectField/SelectField.jsx","app/components/common/Fields/SelectField/index.js","app/components/common/Fields/TextAreaField/index.js","app/components/common/Fields/TextAreaField/TextAreaField.jsx","app/components/common/Fields/HOC/withPassword.jsx","app/components/ui/forms/LoginForm/validatorConfig.js","app/components/ui/forms/LoginForm/LoginForm.jsx","app/components/ui/forms/LoginForm/index.js","app/components/pages/SignInPage/index.js","app/components/pages/SignInPage/SignInPage.jsx","app/components/common/Switch/index.js","app/components/common/Switch/Switch.jsx","app/components/ui/forms/RegisterForm/validatorConfig.js","app/components/ui/forms/RegisterForm/RegisterForm.jsx","app/components/ui/forms/RegisterForm/index.js","app/components/pages/SignUpPage/SignUpPage.jsx","app/components/common/Avatar/Avatar.jsx","app/components/common/Tooltip/Tooltip.jsx","app/components/ui/NavProfile/index.js","app/components/ui/NavProfile/NavProfile.jsx","app/components/common/Container/index.js","app/components/common/Container/Container.jsx","app/components/common/Logo/LogoImage.jsx","app/components/common/Logo/index.js","app/components/common/Logo/Logo.jsx","app/components/common/NavList/index.js","app/components/common/NavList/NavList.jsx","app/components/common/Header/styles.js","app/components/common/Header/Header.jsx","app/components/common/Header/index.js","app/components/common/Fields/HOC/withSubscribe.jsx","app/components/common/Footer/Footer.jsx","app/components/common/Footer/index.js","app/layouts/login.jsx","app/services/booking.service.js","app/services/rooms.service.js","app/components/ui/GuestsCounter/GuestsCounter.jsx","app/components/ui/GuestsCounter/index.js","app/utils/formatDate.js","app/components/common/Backdrop/index.js","app/components/common/Backdrop/Backdrop.jsx","app/components/common/Modal/index.js","app/components/common/Modal/Modal.jsx","app/components/ui/modals/SuccessBookingModal/SuccessBookingModal.jsx","app/components/ui/modals/SuccessBookingModal/index.js","app/components/ui/forms/BookingForm/BookingFormPriceInfo.jsx","app/components/ui/forms/BookingForm/validatorConfig.js","app/components/ui/forms/BookingForm/BookingForm.jsx","app/components/ui/forms/BookingForm/index.js","app/components/ui/forms/ReviewsForm/validatorConfig.js","app/components/ui/forms/ReviewsForm/index.js","app/components/ui/forms/ReviewsForm/ReviewsForm.jsx","app/components/ui/forms/SearchRoomsForm/validatorConfig.js","app/components/ui/forms/SearchRoomsForm/SearchRoomsForm.jsx","app/components/ui/forms/SearchRoomsForm/index.js","app/components/pages/HomePage/index.js","app/components/pages/HomePage/HomePage.jsx","app/layouts/main.jsx","app/components/common/Breadcrumbs/Breadcrumbs.jsx","app/components/common/Breadcrumbs/index.js","app/components/common/ImageSlider/ImageSlider.jsx","app/components/common/ImageSlider/index.js","app/services/reviews.service.js","app/services/likes.service.js","app/components/common/Tooltip/index.js","app/components/common/Avatar/index.js","app/components/common/ButtonLike/index.js","app/components/common/ButtonLike/ButtonLike.jsx","app/components/ui/reviews/Review/Review.jsx","app/components/ui/reviews/Review/index.js","app/components/ui/reviews/ReviewsList/index.js","app/components/ui/reviews/ReviewsList/ReviewsList.jsx","app/components/ui/reviews/Reviews/Reviews.jsx","app/components/ui/reviews/Reviews/index.js","app/components/ui/RoomPageCards/RoomInfoCard.jsx","app/components/ui/RoomPageCards/RoomReviewsCard.jsx","app/components/ui/RoomPageCards/RoomRulesCard.jsx","app/components/ui/RoomPageCards/RoomCancelCard.jsx","app/components/pages/RoomPage/RoomPage.jsx","app/components/pages/RoomPage/index.js","app/components/common/Pagination/index.js","app/components/common/Pagination/Pagination.jsx","app/components/ui/rooms/RoomsDisplayCount/index.js","app/components/ui/rooms/RoomsDisplayCount/RoomsDisplayCount.jsx","app/components/ui/rooms/RoomsFilters/RoomsFiltersItem/index.js","app/components/ui/rooms/RoomsFilters/RoomsFiltersItem/RoomsFiltersItem.jsx","app/components/ui/rooms/RoomsFilters/RoomsFiltersList/RoomsFiltersList.jsx","app/components/ui/rooms/RoomsFilters/RoomsFilters.jsx","app/components/ui/rooms/RoomsFilters/index.js","app/components/common/Badge/index.js","app/components/common/Badge/Badge.jsx","app/components/ui/rooms/RoomCard/RoomCard.jsx","app/components/ui/rooms/RoomCard/index.js","app/components/ui/rooms/RoomsList/index.js","app/components/ui/rooms/RoomsList/RoomsList.jsx","app/components/ui/rooms/RoomCard/RoomCardSkeleton.jsx","app/components/ui/rooms/RoomsList/RoomsListSkeleton.jsx","app/components/ui/rooms/RoomsSort/RoomsSort.jsx","app/components/ui/rooms/RoomsSort/index.js","app/components/pages/RoomsPage/RoomsPage.jsx","app/components/pages/RoomsPage/index.js","app/layouts/rooms.jsx","app/components/common/Sidebar/index.js","app/components/common/Sidebar/Sidebar.jsx","app/components/common/Chip/Chip.jsx","app/components/ui/profile/AdminDashboard/AdminDashboard.jsx","app/components/ui/profile/AdminDashboard/index.js","app/components/ui/booking/BookingCard/BookingCard.jsx","app/components/ui/profile/ProfileBooking/ProfileBooking.jsx","app/components/ui/profile/ProfileBooking/index.js","app/components/ui/profile/ProfileEdit/index.js","app/components/ui/profile/ProfileEdit/ProfileEdit.jsx","app/components/ui/profile/ProfileFavorites/index.js","app/components/ui/profile/ProfileFavorites/ProfileFavorites.jsx","app/components/ui/profile/ProfileLikes/ProfileLikes.jsx","app/components/ui/profile/ProfileLikes/index.js","app/components/ui/profile/UserProfile/index.js","app/components/ui/profile/UserProfile/UserProfile.jsx","app/components/pages/ProfilePage/index.js","app/components/pages/ProfilePage/ProfilePage.jsx","app/layouts/profile.jsx","app/router/routes.js","app/router/AppRouter/index.js","app/router/AppRouter/AppRouter.jsx","app/theme.js","app/App.js","index.js"],"names":["Button","size","color","variant","onClick","type","children","rest","className","sx","background","TOKEN_KEY","REFRESH_KEY","EXPIRES_KEY","USER_ID_KEY","setTokens","expiresIn","idToken","localId","refreshToken","expiresDate","Date","getTime","localStorage","setItem","localStorageService","getAccessToken","getItem","getRefreshToken","getTokenExpiresDate","getUserId","removeAuthData","removeItem","http","axios","create","baseURL","configFile","apiEndPoint","interceptors","request","use","config","a","isFireBase","containSlash","test","url","slice","now","httpAuth","post","grant_type","refresh_token","data","id_token","expires_in","user_id","accessToken","params","auth","error","Promise","reject","response","res","content","_id","Object","keys","map","key","status","console","log","toast","httpService","get","put","delete","patch","userEndpoint","userService","payload","getById","id","getCurrentUser","process","REACT_APP_FIREBASE_KEY","AuthContext","React","createContext","useAuth","useContext","AuthProvider","useState","currentUser","setUser","setError","isLoading","setLoading","history","useHistory","email","password","returnSecureToken","createUser","role","errorCatcher","code","message","getUserData","Error","useEffect","Provider","value","signUp","signIn","handleLogout","push","useFetching","callback","fetching","useMockData","statusMap","setStatus","progress","setProgress","count","setCount","summaryCount","rooms","reviews","users","likes","reduce","acc","cur","length","incrementCount","prevState","room","user","review","like","newProgress","Math","floor","updateProgress","initialize","useModal","isOpen","setOpen","handleOpenModal","handleCloseModal","useCallback","usePagination","items","pageSize","currentPage","setCurrentPage","itemsListCrop","pageNumber","startIndex","paginate","handleChangePage","_","useRoomsFilter","filters","filteredItems","JSON","parse","stringify","hasWifi","filter","el","comforts","includes","hasConditioner","hasWorkSpace","canSmoke","rentPerDay","useSort","sortBy","sortedItems","orderBy","path","order","useForm","initialData","validateOnChange","validatorConfig","setData","errors","setErrors","enterError","setEnterError","validate","validateMethod","statusValidate","trim","fieldName","validator","handleInputChange","target","name","handleKeyDown","event","keyCode","preventDefault","form","formElements","elements","tagName","toLowerCase","Array","prototype","indexOf","call","focus","handleResetForm","e","Form","handleChange","clonedElements","Children","child","childType","props","onChange","onKeyDown","cloneElement","Checkbox","label","labelDetails","checked","convertToDefEventParam","CheckBoxList","DatePickerField","minDate","LocalizationProvider","dateAdapter","AdapterDateFns","locale","ruLocale","DatePicker","mask","inputProps","placeholder","date","renderInput","TextField","DateOfStay","arrivalDate","departureDate","declOfNum","n","words","n1","abs","Divider","Counter","min","max","counterValue","setValue","fontSize","readOnly","InputField","helperText","memo","RadioGroupField","FormControl","component","FormLabel","row","item","FormControlLabel","control","Radio","title","Loader","CircularProgress","valuetext","RangeSliderField","description","minDistance","sliderValue","setSliderValue","newValue","activeThumb","clamped","style","display","justifyContent","alignItems","padding","textTransform","Slider","valueLabelFormat","valueLabelDisplay","step","onChangeCommitted","gap","Rating","totalCount","ceil","toFixed","getRating","labels","RatingField","hover","setHover","onChangeActive","newHover","SelectField","defaultValue","options","optionsArray","option","InputLabel","MenuItem","disabled","FormHelperText","TextAreaField","rows","multiline","fullWidth","withPassword","Component","showPassword","setShowPassword","InputProps","endAdornment","InputAdornment","position","IconButton","onMouseDown","edge","VisibilityOff","Visibility","isRequired","isEmail","LoginForm","handleSubmit","InputFieldWithPassword","useMemo","onSubmit","autoFocus","SignInPage","Paper","elevation","to","Switch","firstName","secondName","isCapitalSymbol","isContainDigit","genderItems","gender","birthYear","avatarPhoto","random","toString","substring","subscribe","RegisterForm","openTo","SignUpPage","Avatar","alt","src","Tooltip","placement","arrow","NavProfile","onLogout","anchorElUser","setAnchorElUser","handleCloseUserMenu","routes","adminRoutes","userProfileRoutes","currentTarget","Menu","anchorEl","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","Boolean","onClose","setting","icon","Container","LogoImage","SvgIcon","d","fill","x1","y1","x2","y2","gradientUnits","stopColor","offset","Logo","viewBox","NavList","direction","spacing","Grid","container","route","useStyles","makeStyles","Header","navigationRoutes","orientation","flexItem","withSubscribe","Footer","SubscribeInput","Link","underline","href","rel","GitHub","Login","useParams","bookingEndPoint","bookingService","getAll","remove","getUserBookings","userId","equalTo","getRoomBookings","roomId","roomsEndPoint","roomsService","setBooking","getGuestsLabel","adults","babies","countGuests","countBabies","Number","guestsStr","babiesStr","GuestsCounter","months","decomposeDate","year","getFullYear","month","getMonth","day","getDate","hours","getHours","getMinutes","getDateDDMMYYYY","formatDate","currentDateTime","postCreatedTime","diffTime","getValidTime","oneMinutesAgo","thirtyMinutesAgo","lessOneDay","lessCurrentYear","checkLeapYear","minutes","Backdrop","Modal","Dialog","DialogTitle","SuccessBookingModal","bookingData","dateArrival","dateDeparture","DialogContent","DialogActions","goBack","BookingFormPriceInfo","countDays","setTotalPrice","totalPrice","PRICE_RENT","PRICE_RENT_WITH_DISCOUNT","arrival","isValidDate","departure","oneDayMs","BookingForm","isBooked","round","createBooking","isCreateBookingLoading","endIcon","ArrowRight","ReviewsForm","rating","SearchRoomsForm","HomePage","Main","breadcrumbsMap","LinkRouter","RouterLink","Breadcrumbs","pathNames","location","pathname","split","x","index","last","join","defaultSettings","dots","nextArrow","NextButton","prevArrow","PrevButton","infinite","slidesToShow","slidesToScroll","ImageSlider","settings","reviewsEndPoint","reviewsService","getByRoomId","reviewId","getByReviewsIds","reviewsIds","newReview","created_at","likesEndPoint","likesService","getByReviewId","getByUserId","newLike","ButtonLike","onToggle","some","disableRipple","Review","onRemove","setLikes","isAdmin","isAuthor","showDeleteBtn","getUser","getLikes","removeLike","userLike","find","likeId","addLike","ReviewsList","handleRemove","Reviews","setReviews","getReviews","createReview","removeReview","sortedReviews","sort","b","totalReviewsCount","RoomInfoCard","RoomReviewsCard","countReviews","RoomRulesCard","RoomCancelCard","RoomPage","currentRoom","setRoom","getRoomData","images","img","numberRoom","Pagination","itemsCount","pagesCount","defaultPage","RoomsDisplayCount","minWidth","autoWidth","RoomsFiltersItem","RoomsFiltersList","RoomsFilter","RoomsFilters","Badge","comfortIconsMap","RoomCard","rate","comfort","RoomsList","RoomCardSkeleton","Skeleton","animation","height","RoomsListSkeleton","roomsSkeletonArray","idx","roomsSortArray","RoomsSort","onSort","filtersInitialData","dateOfStay","canPets","canInvite","hasWideCorridor","hasDisabledAssistant","RoomsPage","setRoomsList","setSortBy","setPageSize","fetchingRooms","roomsIsLoading","Rooms","Sidebar","MenuList","NavLink","exact","Chip","descendingComparator","getComparator","stableSort","array","comparator","stabilizedThis","headCells","numeric","disablePadding","EnhancedTableHead","onRequestSort","TableHead","TableRow","headCell","TableCell","align","sortDirection","TableSortLabel","active","property","Box","visuallyHidden","EnhancedTableToolbar","Toolbar","Typography","flex","Row","bookings","setBookings","getBookings","borderBottom","scope","onDelete","deleteIcon","disableInteractive","colSpan","Collapse","in","timeout","unmountOnExit","margin","gutterBottom","Table","TableBody","bookingRow","AdminDashboard","setOrder","setOrderBy","page","setPage","rowsPerPage","setRowsPerPage","emptyRows","width","mb","TableContainer","rowCount","TablePagination","rowsPerPageOptions","onPageChange","newPage","onRowsPerPageChange","parseInt","BookingCard","fetchRoom","roomIsLoading","ProfileBooking","userBookingsLoading","handleRemoveBooking","bookingId","booking","marginBottom","ProfileEdit","ProfileFavorites","ProfileLikes","reviewIds","flexDirection","UserProfile","ProfilePage","renderComponent","Profile","publicRoutes","privateRoutes","AppRouter","theme","createTheme","typography","useNextVariants","fontFamily","App","ThemeProvider","CssBaseline","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b862e688.chunk.js","sourcesContent":["import { Button as MuiButton } from '@mui/material';\r\nimport React from 'react';\r\n\r\nconst Button = ({ size, color, variant, onClick, type, children, ...rest }) => {\r\n  return (\r\n    <MuiButton\r\n      variant={variant || 'contained'}\r\n      size={size || 'large'}\r\n      color={color || 'primary'}\r\n      onClick={onClick}\r\n      type={type || 'default'}\r\n      className={type === 'circle' ? 'button-circle' : 'button'}\r\n      sx={{\r\n        background: variant === 'outlined' ? 'transparent' : 'linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)',\r\n      }}\r\n      {...rest}\r\n    >\r\n      {children}\r\n    </MuiButton>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","const TOKEN_KEY = 'jwt-token';\r\nconst REFRESH_KEY = 'jwt-refresh-token';\r\nconst EXPIRES_KEY = 'jwt-expires';\r\nconst USER_ID_KEY = 'user-local-id';\r\n\r\nexport function setTokens({ expiresIn = 3600, idToken, localId, refreshToken }) {\r\n  const expiresDate = new Date().getTime() + expiresIn * 1000;\r\n\r\n  localStorage.setItem(TOKEN_KEY, idToken);\r\n  localStorage.setItem(REFRESH_KEY, refreshToken);\r\n  localStorage.setItem(EXPIRES_KEY, expiresDate);\r\n  localStorage.setItem(USER_ID_KEY, localId);\r\n}\r\n\r\nexport function getAccessToken() {\r\n  return localStorage.getItem(TOKEN_KEY);\r\n}\r\n\r\nexport function getRefreshToken() {\r\n  return localStorage.getItem(REFRESH_KEY);\r\n}\r\n\r\nexport function getTokenExpiresDate() {\r\n  return localStorage.getItem(EXPIRES_KEY);\r\n}\r\n\r\nexport function getUserId() {\r\n  return localStorage.getItem(USER_ID_KEY);\r\n}\r\n\r\nexport function removeAuthData() {\r\n  localStorage.removeItem(TOKEN_KEY);\r\n  localStorage.removeItem(REFRESH_KEY);\r\n  localStorage.removeItem(EXPIRES_KEY);\r\n  localStorage.removeItem(USER_ID_KEY);\r\n}\r\n\r\nconst localStorageService = {\r\n  setTokens,\r\n  getAccessToken,\r\n  getRefreshToken,\r\n  getTokenExpiresDate,\r\n  getUserId,\r\n  removeAuthData,\r\n};\r\n\r\nexport default localStorageService;\r\n","import axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport configFile from '../config.json';\r\nimport { httpAuth } from '../hooks/useAuth';\r\nimport localStorageService from './localStorage.service';\r\n\r\nconst http = axios.create({\r\n  baseURL: configFile.apiEndPoint,\r\n});\r\n\r\nhttp.interceptors.request.use(\r\n  async function (config) {\r\n    if (configFile.isFireBase) {\r\n      const containSlash = /\\/$/gi.test(config.url);\r\n      config.url = (containSlash ? config.url.slice(0, -1) : config.url) + '.json';\r\n      const expiresDate = localStorageService.getTokenExpiresDate();\r\n      const refreshToken = localStorageService.getRefreshToken();\r\n      if (refreshToken && expiresDate < Date.now()) {\r\n        const { data } = await httpAuth.post('token', {\r\n          grant_type: 'refresh_token',\r\n          refresh_token: refreshToken,\r\n        });\r\n        localStorageService.setTokens({\r\n          refreshToken: data.refresh_token,\r\n          idToken: data.id_token,\r\n          expiresIn: data.expires_in,\r\n          localId: data.user_id,\r\n        });\r\n      }\r\n      const accessToken = localStorageService.getAccessToken();\r\n      if (accessToken) {\r\n        config.params = { ...config.params, auth: accessToken };\r\n      }\r\n    }\r\n    return config;\r\n  },\r\n  function (error) {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nfunction transformData(data) {\r\n  return data && !data._id\r\n    ? Object.keys(data).map(key => ({\r\n        ...data[key],\r\n      }))\r\n    : data;\r\n}\r\n\r\nhttp.interceptors.response.use(\r\n  res => {\r\n    if (configFile.isFireBase) {\r\n      res.data = { content: transformData(res.data) };\r\n    }\r\n    return res;\r\n  },\r\n  function (error) {\r\n    const expectedErrors = error.response && error.response.status >= 400 && error.response.status < 500;\r\n    if (!expectedErrors) {\r\n      console.log(error);\r\n      toast.error('Something was wrong. Try it later');\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nconst httpService = {\r\n  get: http.get,\r\n  post: http.post,\r\n  put: http.put,\r\n  delete: http.delete,\r\n  patch: http.patch,\r\n};\r\n\r\nexport default httpService;\r\n","import httpService from './http.service';\r\nimport localStorageService from './localStorage.service';\r\n\r\nconst userEndpoint = 'user/';\r\n\r\nconst userService = {\r\n  get: async () => {\r\n    const { data } = await httpService.get(userEndpoint);\r\n    return data;\r\n  },\r\n  create: async payload => {\r\n    const { data } = await httpService.put(userEndpoint + payload._id, payload);\r\n    return data;\r\n  },\r\n  getById: async id => {\r\n    const { data } = await httpService.get(userEndpoint + id);\r\n    return data;\r\n  },\r\n  getCurrentUser: async () => {\r\n    const { data } = await httpService.get(userEndpoint + localStorageService.getUserId());\r\n    return data;\r\n  },\r\n};\r\n\r\nexport default userService;\r\n","import axios from 'axios';\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { toast } from 'react-toastify';\r\nimport localStorageService, { setTokens } from '../services/localStorage.service';\r\nimport userService from '../services/user.service';\r\n\r\nexport const httpAuth = axios.create({\r\n  baseURL: 'https://identitytoolkit.googleapis.com/v1/',\r\n  params: {\r\n    key: process.env.REACT_APP_FIREBASE_KEY,\r\n  },\r\n});\r\n\r\nconst AuthContext = React.createContext();\r\n\r\nconst useAuth = () => useContext(AuthContext);\r\n\r\nconst AuthProvider = ({ children }) => {\r\n  const [currentUser, setUser] = useState();\r\n  const [error, setError] = useState({});\r\n  const [isLoading, setLoading] = useState(true);\r\n  const history = useHistory();\r\n\r\n  const handleLogout = () => {\r\n    localStorageService.removeAuthData();\r\n    setUser(null);\r\n    history.push('/');\r\n  };\r\n\r\n  async function signUp({ email, password, ...rest }) {\r\n    try {\r\n      const { data } = await httpAuth.post(`accounts:signUp`, {\r\n        email,\r\n        password,\r\n        returnSecureToken: true,\r\n      });\r\n      setTokens(data);\r\n      await createUser({ _id: data.localId, role: 'user', ...rest });\r\n    } catch (error) {\r\n      errorCatcher(error);\r\n      const { code, message } = error.response.data.error;\r\n      if (code === 400) {\r\n        if (message === 'EMAIL_EXISTS') {\r\n          const errorObject = { email: 'Пользователь с таким email уже существует' };\r\n          throw errorObject;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  async function signIn({ email, password }) {\r\n    try {\r\n      const { data } = await httpAuth.post(`accounts:signInWithPassword`, {\r\n        email,\r\n        password,\r\n        returnSecureToken: true,\r\n      });\r\n      setTokens(data);\r\n      await getUserData();\r\n    } catch (error) {\r\n      errorCatcher(error);\r\n      const { code, message } = error.response.data.error;\r\n      if (code === 400) {\r\n        switch (message) {\r\n          case 'USER_DISABLED':\r\n            throw new Error('Учетная запись пользователя отключена администратором.');\r\n          case 'EMAIL_NOT_FOUND':\r\n          case 'INVALID_PASSWORD':\r\n          case 'INVALID_EMAIL':\r\n            throw new Error('Неверный email или пароль');\r\n          default:\r\n            throw new Error('Слишком много попыток входа, попробуйте позже');\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  async function createUser(data) {\r\n    try {\r\n      const { content } = await userService.create(data);\r\n      setUser(content);\r\n    } catch (error) {\r\n      errorCatcher(error);\r\n    }\r\n  }\r\n\r\n  const getUserData = async () => {\r\n    try {\r\n      const { content } = await userService.getCurrentUser();\r\n      setUser(content);\r\n    } catch (error) {\r\n      errorCatcher(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (localStorageService.getAccessToken()) {\r\n      getUserData();\r\n    } else {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (error !== null) {\r\n      toast(error);\r\n      setError(null);\r\n    }\r\n  }, [error]);\r\n\r\n  function errorCatcher(error) {\r\n    const { message } = error.response.data;\r\n    setError(message);\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ signUp, signIn, currentUser, setUser, handleLogout }}>\r\n      {!isLoading && children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport { useAuth, AuthProvider };\r\n","import { useEffect, useState } from 'react';\r\nimport { toast } from 'react-toastify';\r\n\r\nexport default function useFetching(callback) {\r\n  const [isLoading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetching = async (...args) => {\r\n    try {\r\n      setLoading(true);\r\n      await callback(...args);\r\n    } catch (error) {\r\n      errorCatcher(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (error !== null) {\r\n      toast.error(error);\r\n      setError(null);\r\n    }\r\n  }, [error]);\r\n\r\n  const errorCatcher = error => {\r\n    const { message } = error.response.data;\r\n    setError(message);\r\n    setLoading(false);\r\n  };\r\n\r\n  return [fetching, isLoading, error];\r\n}\r\n","import { useEffect, useState } from 'react';\r\nimport rooms from '../mockData/rooms.json';\r\nimport users from '../mockData/users.json';\r\nimport reviews from '../mockData/reviews.json';\r\nimport likes from '../mockData/likes.json';\r\nimport httpService from '../services/http.service';\r\n\r\nconst useMockData = () => {\r\n  const statusMap = {\r\n    idle: 'Not Started',\r\n    pending: 'In Process',\r\n    success: 'Ready',\r\n    error: 'Error occurred',\r\n  };\r\n  const [error, setError] = useState(null);\r\n  const [status, setStatus] = useState(statusMap.idle);\r\n  const [progress, setProgress] = useState(0);\r\n  const [count, setCount] = useState(0);\r\n  const summaryCount = [rooms, reviews, users, likes].reduce((acc, cur) => acc + cur.length, 0);\r\n\r\n  const incrementCount = () => {\r\n    setCount(prevState => prevState + 1);\r\n  };\r\n\r\n  const updateProgress = () => {\r\n    if (count !== 0 && status === statusMap.idle) {\r\n      setStatus(statusMap.pending);\r\n    }\r\n    const newProgress = Math.floor((count / summaryCount) * 100);\r\n    if (progress < newProgress) {\r\n      setProgress(() => newProgress);\r\n    }\r\n    if (newProgress === 100) {\r\n      setStatus(statusMap.success);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    updateProgress();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [count]);\r\n\r\n  async function initialize() {\r\n    try {\r\n      for (const room of rooms) {\r\n        await httpService.put('rooms/' + room._id, room);\r\n        incrementCount();\r\n      }\r\n      for (const user of users) {\r\n        await httpService.put('user/' + user._id, user);\r\n        incrementCount();\r\n      }\r\n      for (const review of reviews) {\r\n        await httpService.put('reviews/' + review._id, review);\r\n        incrementCount();\r\n      }\r\n      for (const like of likes) {\r\n        await httpService.put('likes/' + like._id, like);\r\n        incrementCount();\r\n      }\r\n    } catch (error) {\r\n      setError(error);\r\n      setStatus(statusMap.error);\r\n    }\r\n  }\r\n\r\n  return { error, initialize, progress, status };\r\n};\r\n\r\nexport default useMockData;\r\n","import { useCallback, useState } from 'react';\r\n\r\nfunction useModal() {\r\n  const [isOpen, setOpen] = useState(false);\r\n\r\n  const handleOpenModal = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleCloseModal = useCallback(() => {\r\n    setOpen(false);\r\n  }, []);\r\n\r\n  return { isOpen, handleOpenModal, handleCloseModal };\r\n}\r\n\r\nexport default useModal;\r\n","import { useEffect, useState } from 'react';\r\nimport { paginate } from '../utils/paginate';\r\n\r\nfunction usePagination(items, pageSize) {\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  useEffect(() => {\r\n    if (items.length < pageSize) {\r\n      setCurrentPage(1);\r\n    }\r\n  }, [items, pageSize]);\r\n\r\n  const handleChangePage = (_, value) => {\r\n    setCurrentPage(value);\r\n  };\r\n\r\n  const itemsListCrop = paginate(items, currentPage, pageSize);\r\n\r\n  return { currentPage, handleChangePage, itemsListCrop };\r\n}\r\n\r\nexport default usePagination;\r\n","export function paginate(items, pageNumber, pageSize) {\r\n  const startIndex = (pageNumber - 1) * pageSize;\r\n  return items.slice(startIndex, startIndex + pageSize);\r\n}\r\n","const useRoomsFilter = (items, filters) => {\r\n  if (!items) return;\r\n\r\n  let filteredItems = JSON.parse(JSON.stringify(items));\r\n\r\n  // if (filters.isBooked) {\r\n  //   filteredItems = filteredItems.filter(el => el.isBooked);\r\n  // }\r\n\r\n  if (filters.hasWifi) {\r\n    filteredItems = filteredItems.filter(el => (el.comforts ? el.comforts.includes('hasWifi') : false));\r\n  }\r\n\r\n  if (filters.hasConditioner) {\r\n    filteredItems = filteredItems.filter(el => (el.comforts ? el.comforts.includes('hasConditioner') : false));\r\n  }\r\n\r\n  if (filters.hasWorkSpace) {\r\n    filteredItems = filteredItems.filter(el => (el.comforts ? el.comforts.includes('hasWorkSpace') : false));\r\n  }\r\n\r\n  if (filters.canSmoke) {\r\n    filteredItems = filteredItems.filter(room => room.canSmoke);\r\n  }\r\n\r\n  if (filters.rentPerDay) {\r\n    filteredItems = filteredItems.filter(\r\n      room => room.rentPerDay >= filters.rentPerDay[0] && room.rentPerDay <= filters.rentPerDay[1]\r\n    );\r\n  }\r\n\r\n  return { filteredItems };\r\n};\r\n\r\nexport default useRoomsFilter;\r\n","import orderBy from 'lodash/orderBy';\r\n\r\nconst useSort = (items, sortBy) => {\r\n  const sortedItems = orderBy(items, [sortBy.path], [sortBy.order]);\r\n\r\n  return { sortedItems };\r\n};\r\n\r\nexport default useSort;\r\n","import React, { useCallback, useState } from 'react';\r\nimport { validator } from '../utils/validator';\r\n\r\nfunction useForm(initialData, validateOnChange, validatorConfig) {\r\n  const [data, setData] = useState(initialData || {});\r\n  const [errors, setErrors] = useState({});\r\n  const [enterError, setEnterError] = useState(null);\r\n\r\n  const validate = useCallback(\r\n    data => {\r\n      const errors = validator(data, validatorConfig);\r\n      setErrors(errors);\r\n      return Object.keys(errors).length === 0;\r\n    },\r\n    [validatorConfig, setErrors]\r\n  );\r\n\r\n  const handleInputChange = useCallback(\r\n    ({ target }) => {\r\n      const { name, value } = target;\r\n      setData(prevState => ({\r\n        ...prevState,\r\n        [name]: value,\r\n      }));\r\n      setEnterError(null);\r\n      setErrors({});\r\n      if (validateOnChange) validate({ [name]: value });\r\n    },\r\n    [validateOnChange, validate]\r\n  );\r\n\r\n  const handleKeyDown = useCallback(event => {\r\n    if (event.keyCode === 13) {\r\n      event.preventDefault();\r\n      const form = event.target.form;\r\n      const formElements = [...form.elements].filter(\r\n        el => el.tagName.toLowerCase() === 'input' || el.tagName.toLowerCase() === 'button'\r\n      );\r\n      const indexField = Array.prototype.indexOf.call(formElements, event.target);\r\n      formElements[indexField + 1].focus();\r\n    }\r\n  }, []);\r\n\r\n  const handleResetForm = e => {\r\n    e.preventDefault();\r\n    setData(initialData);\r\n    setErrors({});\r\n  };\r\n\r\n  return {\r\n    data,\r\n    setData,\r\n    errors,\r\n    setErrors,\r\n    enterError,\r\n    setEnterError,\r\n    handleInputChange,\r\n    handleKeyDown,\r\n    validate,\r\n    handleResetForm,\r\n  };\r\n}\r\n\r\nfunction Form({ children, handleChange, data, errors, handleKeyDown, ...rest }) {\r\n  const clonedElements = React.Children.map(children, child => {\r\n    const childType = typeof child.type;\r\n    let config = {};\r\n    if (\r\n      childType === 'object' ||\r\n      (childType === 'function' && child.props.type !== 'submit' && child.props.type !== 'button')\r\n    ) {\r\n      if (!child.props.name) {\r\n        throw new Error('name property is required for field component', child);\r\n      }\r\n      config = {\r\n        ...child.props,\r\n        onChange: handleChange,\r\n        value: data[child.props.name],\r\n        error: errors?.[child.props.name],\r\n        onKeyDown: handleKeyDown,\r\n      };\r\n    }\r\n    return React.cloneElement(child, config);\r\n  });\r\n\r\n  return (\r\n    <form className='form' {...rest}>\r\n      {clonedElements}\r\n    </form>\r\n  );\r\n}\r\n\r\nexport { useForm, Form };\r\n","export function validator(data, config) {\n  const errors = {};\n  function validate(validateMethod, data, config) {\n    let statusValidate;\n    switch (validateMethod) {\n      case 'isRequired': {\n        if (typeof data === 'boolean') {\n          statusValidate = !data;\n        } else {\n          statusValidate = data.trim() === '';\n        }\n        break;\n      }\n      case 'isEmail': {\n        const emailRegExp = /^\\S+@\\S+\\.\\S+$/g;\n        statusValidate = !emailRegExp.test(data);\n        break;\n      }\n      case 'isCapitalSymbol': {\n        const capitalRegExp = /[A-Z]+/g;\n        statusValidate = !capitalRegExp.test(data);\n        break;\n      }\n      case 'isContainDigit': {\n        const digitRegExp = /\\d+/g;\n        statusValidate = !digitRegExp.test(data);\n        break;\n      }\n      case 'min': {\n        statusValidate = data.length < config.value;\n        break;\n      }\n      case 'isValidDate': {\n        statusValidate = data === 0;\n        break;\n      }\n      default:\n        break;\n    }\n    if (statusValidate) return config.message;\n  }\n  for (const fieldName in data) {\n    for (const validateMethod in config[fieldName]) {\n      const error = validate(validateMethod, data[fieldName], config[fieldName][validateMethod]);\n      if (error && !errors[fieldName]) {\n        errors[fieldName] = error;\n      }\n    }\n  }\n  return errors;\n}\n","import Checkbox from './Checkbox';\r\n\r\nexport default Checkbox;\r\n","import React from 'react';\r\n\r\nconst Checkbox = ({ label, labelDetails, name, color, value, onChange, ...rest }) => {\r\n  const convertToDefEventParam = (name, value) => ({\r\n    target: {\r\n      name,\r\n      value,\r\n    },\r\n  });\r\n\r\n  return (\r\n    <label className='checkbox'>\r\n      <input\r\n        className='visually-hidden checkbox__input'\r\n        type='checkbox'\r\n        checked={value}\r\n        name={name}\r\n        value={value}\r\n        onChange={e => onChange(convertToDefEventParam(name, e.target.checked))}\r\n        {...rest}\r\n      />\r\n      <div className='checkbox__indicator'>\r\n        <div className='checkbox__mark'></div>\r\n      </div>\r\n      <div className={labelDetails ? 'checkbox__description--with-details' : 'checkbox__description'}>\r\n        {label}\r\n        {labelDetails && <p className='checkbox__details'>{labelDetails}</p>}\r\n      </div>\r\n    </label>\r\n  );\r\n};\r\n\r\nexport default Checkbox;\r\n","import CheckBoxList from \"./CheckBoxList\";\r\n\r\nexport default CheckBoxList;\r\n","import React from 'react';\r\n\r\nconst CheckBoxList = ({ children, onChange, data }) => {\r\n  return (\r\n    <ul className='checkbox-list'>\r\n      {React.Children.map(children, child => {\r\n        const config = {\r\n          onChange,\r\n          value: (data && data[child.props.name]) || '',\r\n          ...child.props,\r\n        };\r\n        return <li className='checkbox-list__item'>{React.cloneElement(child, config)}</li>;\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default CheckBoxList;\r\n","import DatePickerField from './DatePickerField';\r\n\r\nexport default DatePickerField;\r\n","import TextField from '@mui/material/TextField';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport ruLocale from 'date-fns/locale/ru';\r\nimport DatePicker from '@mui/lab/DatePicker';\r\nimport React from 'react';\r\n\r\nconst DatePickerField = ({ label, name, value, minDate, onChange, ...rest }) => {\r\n  const convertToDefEventParam = (name, value) => ({\r\n    target: {\r\n      name,\r\n      value,\r\n    },\r\n  });\r\n\r\n  return (\r\n    <LocalizationProvider dateAdapter={AdapterDateFns} locale={ruLocale}>\r\n      <DatePicker\r\n        mask='__.__.____'\r\n        label={label}\r\n        value={value}\r\n        minDate={minDate || Date.now()}\r\n        inputProps={{ placeholder: 'ДД.ММ.ГГГГ' }}\r\n        onChange={date => {\r\n          onChange(convertToDefEventParam(name, new Date(date).getTime()));\r\n        }}\r\n        {...rest}\r\n        renderInput={params => <TextField {...params} />}\r\n      />\r\n    </LocalizationProvider>\r\n  );\r\n};\r\n\r\nexport default DatePickerField;\r\n","import DateOfStay from './DateOfStay';\r\n\r\nexport default DateOfStay;\r\n","import React from 'react';\r\nimport DatePickerField from '../DatePickerField';\r\n\r\nconst DateOfStay = ({ onChange, data }) => {\r\n  const { arrivalDate, departureDate } = data;\r\n\r\n  return (\r\n    <div className='dateOfStay-wrapper'>\r\n      <div className='dateOfStay'>\r\n        <DatePickerField label='Дата прибытия' name='arrivalDate' onChange={onChange} value={arrivalDate} />\r\n      </div>\r\n      <div className='dateOfStay'>\r\n        <DatePickerField\r\n          label='Дата выезда'\r\n          name='departureDate'\r\n          minDate={arrivalDate}\r\n          onChange={onChange}\r\n          value={departureDate}\r\n          className='dateOfStay'\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DateOfStay;\r\n","export default function declOfNum(n, words) {\r\n  n = Math.abs(n) % 100;\r\n  const n1 = n % 10;\r\n  if (n > 10 && n < 20) {\r\n    return words[2];\r\n  }\r\n  if (n1 > 1 && n1 < 5) {\r\n    return words[1];\r\n  }\r\n  if (n1 === 1) {\r\n    return words[0];\r\n  }\r\n  return words[2];\r\n}\r\n","import { Divider as MuiDivider } from '@mui/material';\r\nimport React from 'react';\r\n\r\nconst Divider = props => {\r\n  return <MuiDivider {...props} />;\r\n};\r\n\r\nexport default Divider;\r\n","import Divider from './Divider';\r\n\r\nexport default Divider;\r\n","import Button from './Button';\r\n\r\nexport default Button;\r\n","import Counter from './Counter';\r\n\r\nexport default Counter;\r\n","import React, { useState, useEffect } from 'react';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport RemoveIcon from '@mui/icons-material/Remove';\r\nimport Button from '../Button';\r\n\r\nconst Counter = ({ name, label, value, min, max, onChange }) => {\r\n  const [counterValue, setValue] = useState(+value || 0);\r\n\r\n  useEffect(() => {\r\n    setValue(value);\r\n  }, [value]);\r\n\r\n  useEffect(() => {\r\n    onChange({ target: { name, value: +counterValue } });\r\n  }, [counterValue, name]);\r\n\r\n  const handleIncrease = e => {\r\n    e.preventDefault();\r\n    if (counterValue >= max) return;\r\n    setValue(counterValue + 1);\r\n  };\r\n  const handleDecrease = e => {\r\n    e.preventDefault();\r\n    if (counterValue <= min) return;\r\n    setValue(counterValue - 1);\r\n  };\r\n\r\n  return (\r\n    <div className='counter-wrapper'>\r\n      {label && <p className='counter-label'>{label}</p>}\r\n      <div className='counter-buttons__wrapper'>\r\n        <Button type='circle' variant='contained' size='small' aria-label='reduce' onClick={handleDecrease}>\r\n          <RemoveIcon fontSize='small' />\r\n        </Button>\r\n        <input className='counter-input' type='text' value={counterValue} readOnly />\r\n        <Button type='circle' variant='contained' size='small' aria-label='increase' onClick={handleIncrease}>\r\n          <AddIcon fontSize='small' />\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Counter;\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { TextField } from '@mui/material';\n\nconst InputField = ({ label, type = 'text', name, value, onChange, error = null, ...rest }) => {\n  return (\n    <TextField\n      variant='outlined'\n      label={label}\n      name={name}\n      value={value}\n      onChange={onChange}\n      type={type}\n      {...rest}\n      {...(error && { error: true, helperText: error })}\n    />\n  );\n};\n\nInputField.propTypes = {\n  label: PropTypes.string,\n  type: PropTypes.string,\n  name: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  onChange: PropTypes.func,\n  error: PropTypes.string,\n};\n\nexport default React.memo(InputField);\n","import InputField from './InputField';\r\n\r\nexport default InputField;\r\n","import RadioGroupField from './RadioGroupField';\r\n\r\nexport default RadioGroupField;\r\n","import { FormControl, FormControlLabel, FormLabel, Radio, RadioGroup as MuiRadioGroup } from '@mui/material';\r\nimport React from 'react';\r\n\r\nconst RadioGroupField = ({ name, label, value, onChange, items }) => {\r\n  return (\r\n    <FormControl component='fieldset'>\r\n      <FormLabel component='legend'>{label}</FormLabel>\r\n      <MuiRadioGroup row name={name} value={value} onChange={onChange}>\r\n        {items.map(item => (\r\n          <FormControlLabel key={item.id} value={item.id} control={<Radio />} label={item.title} />\r\n        ))}\r\n      </MuiRadioGroup>\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport default RadioGroupField;\r\n","import Loader from './Loader';\r\n\r\nexport default Loader;\r\n","import { CircularProgress } from '@mui/material';\r\nimport React from 'react';\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <>\r\n      <CircularProgress />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import { Slider } from '@mui/material';\r\nimport React, { useCallback, useEffect, useState } from 'react';\r\nimport Loader from '../../Loader';\r\nimport { InputField } from '..';\r\n\r\nconst valuetext = value => {\r\n  return `${value}₽`;\r\n};\r\n\r\nconst RangeSliderField = ({ label, name, description, onChange, value, min, max, minDistance = 1500 }) => {\r\n  const [sliderValue, setSliderValue] = useState(value);\r\n\r\n  const handleChange = useCallback(\r\n    (event, newValue, activeThumb) => {\r\n      if (newValue[1] - newValue[0] < minDistance) {\r\n        if (activeThumb === 0) {\r\n          const clamped = Math.min(newValue[0], max - minDistance);\r\n          setSliderValue([clamped, clamped + minDistance]);\r\n        } else {\r\n          const clamped = Math.max(newValue[1], minDistance);\r\n          setSliderValue([clamped - minDistance, clamped]);\r\n        }\r\n      } else {\r\n        setSliderValue(newValue);\r\n      }\r\n    },\r\n    [max, minDistance]\r\n  );\r\n\r\n  const handleInputChange = ({ target }) => {\r\n    console.log(target.value);\r\n    if (target.name === 'max') {\r\n      onChange({ target: { name, value: [sliderValue[0], +target.value] } });\r\n    }\r\n    if (target.name === 'min') {\r\n      onChange({ target: { name, value: [+target.value, sliderValue[1]] } });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setSliderValue(value);\r\n  }, [value]);\r\n\r\n  if (value) {\r\n    return (\r\n      <div>\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '10px 0' }}>\r\n          <p style={{ fontSize: '12px', textTransform: 'uppercase' }}>{label || 'Range Slider'}</p>\r\n          <p style={{ fontSize: '12px' }}>\r\n            {value[0]}&#8381; - {value[1]}&#8381;\r\n          </p>\r\n        </div>\r\n        <Slider\r\n          name={name}\r\n          value={sliderValue}\r\n          valueLabelFormat={valuetext}\r\n          onChange={handleChange}\r\n          valueLabelDisplay='auto'\r\n          min={min}\r\n          max={max}\r\n          step={100}\r\n          onChangeCommitted={() => onChange({ target: { name, value: sliderValue } })}\r\n        />\r\n        <div className='range-slider__inputs' style={{ display: 'flex', gap: 10 }}>\r\n          <InputField\r\n            inputProps={{ min: min }}\r\n            label='От'\r\n            name='min'\r\n            type='number'\r\n            min={min}\r\n            value={value[0]}\r\n            onChange={handleInputChange}\r\n          />\r\n          <InputField\r\n            name='max'\r\n            label='До'\r\n            type='number'\r\n            inputProps={{ max: max }}\r\n            value={value[1]}\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n\r\n        {description && <p sx={{ fontSize: '12px' }}>Стоимость за сутки пребывания в номере</p>}\r\n      </div>\r\n    );\r\n  }\r\n  return <Loader />;\r\n};\r\n\r\nexport default React.memo(RangeSliderField);\r\n","import RangeSliderField from './RangeSliderField';\r\n\r\nexport default RangeSliderField;\r\n","import Rating from './Rating';\r\n\r\nexport default Rating;\r\n","import { Rating as MuiRating } from '@mui/material';\r\nimport React from 'react';\r\n\r\nconst Rating = ({ onChange, name, label, value, totalCount = 1, ...rest }) => {\r\n  const getRating = value => +Math.ceil(value / totalCount).toFixed();\r\n\r\n  return <MuiRating name={name} value={getRating(value)} className='rating-wrapper' onChange={onChange} {...rest} />;\r\n};\r\n\r\nexport default Rating;\r\n","import React, { useState } from 'react';\r\nimport Rating from '../../Rating';\r\n\r\nconst labels = {\r\n  1: 'Разочарован',\r\n  2: 'Удовлетворительно',\r\n  3: 'Хорошо',\r\n  4: 'Отлично',\r\n  5: 'Великолепно',\r\n};\r\n\r\nconst RatingField = ({ name, label, value, onChange, ...rest }) => {\r\n  const [hover, setHover] = useState(-1);\r\n\r\n  return (\r\n    <div className='rating-wrapper' role='group'>\r\n      <legend className='rating-label'>{label}</legend>\r\n      <Rating\r\n        name={name}\r\n        value={value}\r\n        {...rest}\r\n        onChange={onChange}\r\n        onChangeActive={(event, newHover) => {\r\n          setHover(newHover);\r\n        }}\r\n      />\r\n      {value !== null && <div className='rating-feedback'>{labels[hover !== -1 ? hover : value]}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RatingField;\r\n","import RatingField from './RatingField';\r\n\r\nexport default RatingField;\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormControl, InputLabel, Select as MuiSelect, MenuItem, FormHelperText } from '@mui/material';\n\nconst SelectField = ({ label, name, value, defaultValue, onChange, options, error, ...rest }) => {\n  const optionsArray = Object.keys(options).map(option => ({\n    name: options[option].name,\n    value: typeof options[option].value === 'object' ? JSON.stringify(options[option].value) : options[option].value,\n  }));\n\n  return (\n    <FormControl variant='outlined' {...(error && { error: true })}>\n      <InputLabel>{label}</InputLabel>\n      <MuiSelect label={label} name={name} value={value} onChange={onChange} {...rest}>\n        <MenuItem value='' disabled>\n          {defaultValue || label}\n        </MenuItem>\n        {optionsArray.map(item => (\n          <MenuItem key={item.value} value={item.value}>\n            {item.name}\n          </MenuItem>\n        ))}\n      </MuiSelect>\n      {error && <FormHelperText>{error}</FormHelperText>}\n    </FormControl>\n  );\n};\nSelectField.propTypes = {\n  label: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  onChange: PropTypes.func,\n  error: PropTypes.string,\n  name: PropTypes.string,\n  options: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n};\n\nexport default React.memo(SelectField);\n","import SelectField from './SelectField';\r\n\r\nexport default SelectField;\r\n","import TextAreaField from './TextAreaField';\r\n\r\nexport default TextAreaField;\r\n","import { TextField } from '@mui/material';\r\nimport React from 'react';\r\n\r\nconst TextAreaField = ({ label, name, value, onChange, error, rows = 5 }) => {\r\n  return (\r\n    <>\r\n      <TextField\r\n        label={label}\r\n        name={name}\r\n        multiline\r\n        rows={rows}\r\n        value={value}\r\n        onChange={onChange}\r\n        fullWidth\r\n        {...(error && { error: true, helperText: error })}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TextAreaField;\r\n","import { IconButton, InputAdornment } from '@material-ui/core';\r\nimport { Visibility, VisibilityOff } from '@mui/icons-material';\r\nimport React, { useState } from 'react';\r\n\r\nconst withPassword = Component => props => {\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  const toggleShowPassword = () => {\r\n    setShowPassword(prevState => !prevState);\r\n  };\r\n\r\n  const handleMouseDownPassword = e => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <Component\r\n      {...props}\r\n      type={showPassword ? 'text' : 'password'}\r\n      InputProps={{\r\n        endAdornment: (\r\n          <InputAdornment position='end'>\r\n            <IconButton\r\n              aria-label='toggle password visibility'\r\n              onClick={toggleShowPassword}\r\n              onMouseDown={handleMouseDownPassword}\r\n              edge='end'\r\n            >\r\n              {showPassword ? <VisibilityOff /> : <Visibility />}\r\n            </IconButton>\r\n          </InputAdornment>\r\n        ),\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default withPassword;\r\n","const validatorConfig = {\r\n  email: {\r\n    isRequired: {\r\n      message: 'Электронная почта обязательна для заполнения',\r\n    },\r\n    isEmail: {\r\n      message: 'Поле \"Email\" введено не корректно',\r\n    },\r\n  },\r\n  password: {\r\n    isRequired: {\r\n      message: 'Поле \"Пароль\" обязательно для заполнения',\r\n    },\r\n  },\r\n};\r\n\r\nexport default validatorConfig;\r\n","import React, { useMemo } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { useAuth } from '../../../../hooks/useAuth';\r\nimport { Form, useForm } from '../../../../hooks';\r\nimport { InputField } from '../../../common/Fields';\r\nimport withPassword from '../../../common/Fields/HOC/withPassword';\r\nimport Button from '../../../common/Button/Button';\r\nimport validatorConfig from './validatorConfig';\r\n\r\nconst initialData = {\r\n  email: '',\r\n  password: '',\r\n};\r\n\r\nconst LoginForm = () => {\r\n  const { data, errors, setErrors, enterError, setEnterError, handleInputChange, validate, handleResetForm } = useForm(\r\n    initialData,\r\n    false,\r\n    validatorConfig\r\n  );\r\n\r\n  const { signIn } = useAuth();\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    if (validate(data)) {\r\n      try {\r\n        await signIn(data);\r\n        history.push('/');\r\n      } catch (error) {\r\n        setErrors(error);\r\n        setEnterError(error.message);\r\n        handleResetForm(e);\r\n      }\r\n    }\r\n  };\r\n\r\n  const InputFieldWithPassword = useMemo(() => withPassword(InputField), []);\r\n\r\n  return (\r\n    <>\r\n      <Form onSubmit={handleSubmit} data={data} errors={errors} handleChange={handleInputChange}>\r\n        <InputField name='email' label='Email' autoFocus />\r\n        <InputFieldWithPassword name='password' label='Пароль' type='password' />\r\n        <Button onClick={handleSubmit} fullWidth type='submit' disabled={enterError ? true : false}>\r\n          Войти\r\n        </Button>\r\n      </Form>\r\n      {enterError && <p className='form__enter-error'>{enterError}</p>}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","import LoginForm from './LoginForm';\r\n\r\nexport default LoginForm;\r\n","import SignInPage from './SignInPage';\r\n\r\nexport default SignInPage;\r\n","import { Paper } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Button from '../../common/Button/Button';\r\nimport LoginForm from '../../ui/forms/LoginForm';\r\n\r\nconst SignInPage = () => {\r\n  return (\r\n    <>\r\n      <h1 className='visually-hidden'>Отель Toxin Войти в личный кабинет</h1>\r\n      <div className='login-form__wrapper'>\r\n        <Paper elevation={3} className='form-card login-form__card'>\r\n          <h2>Войти</h2>\r\n          <LoginForm />\r\n          <div className='login-form__footer'>\r\n            <span>Нет аккаунта на Toxin?</span>\r\n            <Link to='./signUp' className='login-form__link'>\r\n              <Button variant='outlined' size='small'>\r\n                Зарегистрироваться\r\n              </Button>\r\n            </Link>\r\n          </div>\r\n        </Paper>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SignInPage;\r\n","import Switch from './Switch';\r\n\r\nexport default Switch;\r\n","import React from 'react';\r\nimport { FormControl, FormControlLabel, Switch as MuiSwitch } from '@mui/material';\r\n\r\nconst Switch = ({ label, value, name, onChange, ...rest }) => {\r\n  const convertToDefEventParam = (name, value) => ({\r\n    target: {\r\n      name,\r\n      value,\r\n    },\r\n  });\r\n\r\n  return (\r\n    <FormControl>\r\n      <FormControlLabel\r\n        control={\r\n          <MuiSwitch\r\n            name={name}\r\n            value={value}\r\n            onChange={e => onChange(convertToDefEventParam(name, e.target.checked))}\r\n            {...rest}\r\n          />\r\n        }\r\n        label={label}\r\n      />\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport default Switch;\r\n","const validatorConfig = {\r\n  firstName: {\r\n    isRequired: {\r\n      message: 'Поле \"Имя\" обязательно для заполнения',\r\n    },\r\n  },\r\n  secondName: {\r\n    isRequired: {\r\n      message: 'Поле \"Фамилия\" обязательно для заполнения',\r\n    },\r\n  },\r\n  email: {\r\n    isRequired: {\r\n      message: 'Электронная почта обязательна для заполнения',\r\n    },\r\n    isEmail: {\r\n      message: 'Поле \"Email\" введено не корректно',\r\n    },\r\n  },\r\n  password: {\r\n    isRequired: {\r\n      message: 'Поле \"Пароль\" обязательно для заполнения',\r\n    },\r\n    isCapitalSymbol: {\r\n      message: 'Пароль должен содержать хотя бы 1 заглавную букву',\r\n    },\r\n    isContainDigit: {\r\n      message: 'Пароль должен содержать хотя бы 1 цифру',\r\n    },\r\n\r\n    min: {\r\n      value: 8,\r\n      message: 'Пароль должен содержать минимум 8 символов',\r\n    },\r\n  },\r\n};\r\n\r\nexport default validatorConfig;\r\n","import React, { useMemo } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { useAuth } from '../../../../hooks/useAuth';\r\nimport { Form, useForm } from '../../../../hooks';\r\nimport { DatePickerField, InputField, RadioGroup } from '../../../common/Fields';\r\nimport withPassword from '../../../common/Fields/HOC/withPassword';\r\nimport Switch from '../../../common/Switch';\r\nimport Button from '../../../common/Button/Button';\r\nimport validatorConfig from './validatorConfig';\r\n\r\nconst genderItems = [\r\n  { id: 'male', title: 'Мужчина' },\r\n  { id: 'female', title: 'Женщина' },\r\n];\r\n\r\nconst initialData = {\r\n  firstName: '',\r\n  secondName: '',\r\n  gender: 'male',\r\n  birthYear: Date.now(),\r\n  avatarPhoto: `https://avatars.dicebear.com/api/avataaars/${(Math.random() + 1).toString(36).substring(7)}.svg`,\r\n  email: '',\r\n  password: '',\r\n  subscribe: false,\r\n};\r\n\r\nconst RegisterForm = () => {\r\n  const { data, errors, setErrors, handleInputChange, handleKeyDown, validate, handleResetForm } = useForm(\r\n    initialData,\r\n    true,\r\n    validatorConfig\r\n  );\r\n\r\n  const history = useHistory();\r\n  const { signUp } = useAuth();\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    if (validate(data)) {\r\n      console.log(data);\r\n      try {\r\n        await signUp(data);\r\n        handleResetForm(e);\r\n        history.push('/');\r\n      } catch (error) {\r\n        setErrors(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const InputFieldWithPassword = useMemo(() => withPassword(InputField), []);\r\n\r\n  return (\r\n    <Form\r\n      onSubmit={handleSubmit}\r\n      data={data}\r\n      errors={errors}\r\n      handleChange={handleInputChange}\r\n      handleKeyDown={handleKeyDown}\r\n    >\r\n      <InputField autoFocus name='firstName' label='Имя' />\r\n      <InputField name='secondName' label='Фамилия' />\r\n      <RadioGroup name='gender' items={genderItems} />\r\n      <DatePickerField\r\n        openTo='year'\r\n        mask='__.__.____'\r\n        label='Дата Рождения'\r\n        name='birthYear'\r\n        minDate={new Date('1950-01-01')}\r\n      />\r\n      <InputField name='email' label='Почта' />\r\n      <InputFieldWithPassword name='password' label='Пароль' type='password' />\r\n      <Switch name='subscribe' label='Получать спецпредложения' />\r\n      <Button type='submit' onClick={handleSubmit} fullWidth disabled={Object.keys(errors).length !== 0}>\r\n        Зарегистрироваться\r\n      </Button>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default RegisterForm;\r\n","import RegisterForm from './RegisterForm';\r\n\r\nexport default RegisterForm;\r\n","import { Paper } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Button from '../../common/Button/Button';\r\nimport RegisterForm from '../../ui/forms/RegisterForm';\r\n\r\nconst SignUpPage = () => {\r\n  return (\r\n    <>\r\n      <h1 className='visually-hidden'>Отель Toxin Регистрация</h1>\r\n      <div className='login-form__wrapper'>\r\n        <Paper elevation={3} className='form-card login-form__card'>\r\n          <h2>Регистрация</h2>\r\n          <RegisterForm />\r\n          <div className='login-form__footer'>\r\n            <span>Уже есть аккаунт на Toxin?</span>\r\n            <Link to='./signIn' className='login-form__link'>\r\n              <Button variant='outlined' size='small'>\r\n                Войти\r\n              </Button>\r\n            </Link>\r\n          </div>\r\n        </Paper>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SignUpPage;\r\n","import { Avatar as MuiAvatar } from '@mui/material';\r\nimport React from 'react';\r\n\r\nconst Avatar = ({ alt, src, className }) => {\r\n  return <MuiAvatar alt={alt} src={src} className={className} />;\r\n};\r\n\r\nexport default Avatar;\r\n","import React from 'react';\r\nimport { Tooltip as MuiTooltip } from '@mui/material';\r\n\r\nconst Tooltip = ({ children, title, placement = 'top' }) => {\r\n  return (\r\n    <MuiTooltip title={title} placement={placement} arrow>\r\n      {children}\r\n    </MuiTooltip>\r\n  );\r\n};\r\n\r\nexport default Tooltip;\r\n","import NavProfile from './NavProfile';\r\n\r\nexport default NavProfile;\r\n","import ExitToAppIcon from '@mui/icons-material/ExitToApp';\r\nimport { IconButton, Menu, MenuItem } from '@mui/material';\r\nimport React, { useState } from 'react';\r\nimport Avatar from '../../common/Avatar/Avatar';\r\nimport Tooltip from '../../common/Tooltip/Tooltip';\r\nimport { useHistory } from 'react-router';\r\nimport { adminRoutes, userProfileRoutes } from '../../../router/routes';\r\n\r\nconst NavProfile = ({ user, onLogout }) => {\r\n  const history = useHistory();\r\n\r\n  const [anchorElUser, setAnchorElUser] = useState(null);\r\n\r\n  const handleOpenUserMenu = event => {\r\n    setAnchorElUser(event.currentTarget);\r\n  };\r\n\r\n  const handleCloseUserMenu = () => {\r\n    setAnchorElUser(null);\r\n  };\r\n\r\n  const handleClickSettingsMenu = path => {\r\n    history.push(path);\r\n    handleCloseUserMenu();\r\n  };\r\n\r\n  if (user) {\r\n    const { avatarPhoto, firstName, secondName } = user;\r\n    const routes = user.role === 'admin' ? adminRoutes : userProfileRoutes;\r\n    return (\r\n      <div className='profile-wrapper'>\r\n        <Tooltip title='Открыть меню' placement='bottom'>\r\n          <IconButton onClick={handleOpenUserMenu} className='profile-avatar__btn'>\r\n            <Avatar alt='user-photo' src={avatarPhoto} />\r\n          </IconButton>\r\n        </Tooltip>\r\n        <div className='profile-username__wrapper'>\r\n          <span className='profile-username__greeting'>Добро пожаловать!</span>\r\n          <div className='profile-username__name'>{`${firstName} ${secondName}`}</div>\r\n        </div>\r\n        <Menu\r\n          anchorEl={anchorElUser}\r\n          anchorOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'left',\r\n          }}\r\n          keepMounted\r\n          transformOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'left',\r\n          }}\r\n          open={Boolean(anchorElUser)}\r\n          onClose={handleCloseUserMenu}\r\n          className='profile-menu'\r\n        >\r\n          {routes.map(setting => (\r\n            <MenuItem\r\n              key={setting.path}\r\n              name={setting.name}\r\n              onClick={() => handleClickSettingsMenu(setting.path)}\r\n              className='profile-menu__item'\r\n            >\r\n              {setting?.icon}\r\n              {setting.name}\r\n            </MenuItem>\r\n          ))}\r\n          <MenuItem className='profile-menu__item' name='logout' onClick={onLogout}>\r\n            <ExitToAppIcon />\r\n            Выйти\r\n          </MenuItem>\r\n        </Menu>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default NavProfile;\r\n","import Container from './Container';\r\n\r\nexport default Container;\r\n","import { Container as MuiContainer } from '@mui/material';\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Container = ({ children }) => {\r\n  return <MuiContainer>{children}</MuiContainer>;\r\n};\r\nContainer.propTypes = {\r\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\r\n};\r\nexport default Container;\r\n","import React from 'react';\r\nimport { SvgIcon } from '@mui/material';\r\n\r\nconst LogoImage = props => {\r\n  return (\r\n    <SvgIcon {...props}>\r\n      <path\r\n        d='M19.9999 27.0589C19.3528 27.0589 18.8234 26.5295 18.8234 25.8824C18.8234 21.353 15.1175 17.6471 10.5881 17.6471C9.94103 17.6471 9.41162 17.1177 9.41162 16.4707C9.41162 15.8236 9.94103 15.2942 10.5881 15.2942C16.441 15.2942 21.1763 20.0295 21.1763 25.8824C21.1763 26.5295 20.6469 27.0589 19.9999 27.0589Z'\r\n        fill='url(#paint0_linear_18370:63)'\r\n      />\r\n      <path\r\n        d='M30.5882 16.4707C30.5882 17.1177 30.0588 17.6471 29.4117 17.6471C26.6176 17.6471 24.1176 19.0589 22.647 21.206C22.3235 20.3824 21.9411 19.6177 21.4705 18.9118C23.4117 16.6765 26.2646 15.2942 29.4117 15.2942C30.0588 15.2942 30.5882 15.8236 30.5882 16.4707Z'\r\n        fill='url(#paint1_linear_18370:63)'\r\n      />\r\n      <path\r\n        d='M20 40C8.97059 40 0 31.0294 0 20C0 8.97059 8.97059 0 20 0C31.0294 0 40 8.97059 40 20C40 31.0294 31.0294 40 20 40ZM20 2.35294C10.2647 2.35294 2.35294 10.2647 2.35294 20C2.35294 29.7353 10.2647 37.6471 20 37.6471C29.7353 37.6471 37.6471 29.7353 37.6471 20C37.6471 10.2647 29.7353 2.35294 20 2.35294Z'\r\n        fill='url(#paint2_linear_18370:63)'\r\n      />\r\n      <defs>\r\n        <linearGradient\r\n          id='paint0_linear_18370:63'\r\n          x1='15.294'\r\n          y1='15.2942'\r\n          x2='15.294'\r\n          y2='27.0589'\r\n          gradientUnits='userSpaceOnUse'\r\n        >\r\n          <stop stopColor='#BC9CFF' />\r\n          <stop offset='1' stopColor='#8BA4F9' />\r\n        </linearGradient>\r\n        <linearGradient\r\n          id='paint1_linear_18370:63'\r\n          x1='26.0293'\r\n          y1='15.2942'\r\n          x2='26.0293'\r\n          y2='21.206'\r\n          gradientUnits='userSpaceOnUse'\r\n        >\r\n          <stop stopColor='#6FCF97' />\r\n          <stop offset='1' stopColor='#66D2EA' />\r\n        </linearGradient>\r\n        <linearGradient id='paint2_linear_18370:63' x1='20' y1='0' x2='20' y2='40' gradientUnits='userSpaceOnUse'>\r\n          <stop stopColor='#BC9CFF' />\r\n          <stop offset='1' stopColor='#8BA4F9' />\r\n        </linearGradient>\r\n      </defs>\r\n    </SvgIcon>\r\n  );\r\n};\r\n\r\nexport default LogoImage;\r\n","import Logo from './Logo';\r\n\r\nexport default Logo;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport LogoImage from './LogoImage';\r\n\r\nconst Logo = ({ className }) => {\r\n  return (\r\n    <div className={className}>\r\n      <NavLink to='/' className='logo-link'>\r\n        <LogoImage viewBox='0 0 40 40' />\r\n        <h2 className='logo-title'>Toxin</h2>\r\n      </NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Logo;\r\n","import NavList from './NavList';\r\n\r\nexport default NavList;\r\n","import { Grid } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst NavList = ({ label, routes, direction = 'row', spacing, ...rest }) => {\r\n  return (\r\n    <Grid container component='nav' direction={direction} spacing={spacing} {...rest}>\r\n      {label && <h3>{label}</h3>}\r\n      {routes.map(route => (\r\n        <Grid item key={route.name} className='nav-item'>\r\n          <NavLink className='nav-item__link' to={route.path}>\r\n            {route.name}\r\n          </NavLink>\r\n        </Grid>\r\n      ))}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default NavList;\r\n","import { makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles({});\r\n\r\nexport default useStyles;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { useAuth } from '../../../hooks';\r\nimport { navigationRoutes } from '../../../router/routes';\r\nimport Button from '../Button/Button';\r\nimport NavProfile from '../../ui/NavProfile';\r\nimport Container from '../Container';\r\nimport Divider from '../Divider';\r\nimport Logo from '../Logo';\r\nimport NavList from '../NavList';\r\nimport useStyles from './styles';\r\n\r\nconst Header = () => {\r\n  const { currentUser, handleLogout } = useAuth();\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <header className='header'>\r\n      <Container>\r\n        <div className='header__inner'>\r\n          <Logo className='header__logo' />\r\n          <NavList routes={navigationRoutes} spacing={2} className='header-nav' />\r\n          {currentUser ? (\r\n            <>\r\n              <Divider orientation='vertical' flexItem className='header__divider' />\r\n              <NavProfile user={currentUser} onLogout={handleLogout} />\r\n            </>\r\n          ) : (\r\n            <div className='header-buttons'>\r\n              <NavLink to='/login/signIn' className='header-buttons-button'>\r\n                <Button size='small' variant='outlined'>\r\n                  Войти\r\n                </Button>\r\n              </NavLink>\r\n              <NavLink to='/login/signUp' className='header-buttons-button'>\r\n                <Button size='small'>Зарегистрироваться</Button>\r\n              </NavLink>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Container>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import Header from './Header';\r\n\r\nexport default Header;\r\n","import { IconButton, InputAdornment } from '@material-ui/core';\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport React, { useCallback, useState } from 'react';\r\n\r\nconst withSubscribe = Component => props => {\r\n  const [data, setData] = useState('');\r\n  const handleSubscribe = () => {\r\n    console.log('subscribed');\r\n    console.log(data);\r\n    setData('');\r\n  };\r\n\r\n  const handleChange = useCallback(event => {\r\n    setData(event.target.value);\r\n  }, []);\r\n\r\n  const handleMouseDown = e => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <Component\r\n      {...props}\r\n      onChange={handleChange}\r\n      value={data}\r\n      InputProps={{\r\n        endAdornment: (\r\n          <InputAdornment position='end'>\r\n            <IconButton\r\n              aria-label='subscribe'\r\n              onClick={handleSubscribe}\r\n              onMouseDown={handleMouseDown}\r\n              edge='end'\r\n              color='primary'\r\n            >\r\n              <SendIcon color='primary' />\r\n            </IconButton>\r\n          </InputAdornment>\r\n        ),\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default withSubscribe;\r\n","import { Link } from '@material-ui/core';\r\nimport { GitHub } from '@mui/icons-material';\r\nimport React from 'react';\r\nimport Container from '../Container';\r\nimport Divider from '../Divider';\r\nimport { InputField } from '../Fields';\r\nimport withSubscribe from '../Fields/HOC/withSubscribe';\r\nimport Logo from '../Logo';\r\n\r\nconst Footer = () => {\r\n  const SubscribeInput = withSubscribe(InputField);\r\n\r\n  return (\r\n    <footer className='footer'>\r\n      <Container>\r\n        <div className='footer-wrapper'>\r\n          <div className='footer-item footer-item--logo'>\r\n            <div className='footer-logo'>\r\n              <Logo />\r\n              <p className='footer-logo__text'>\r\n                Бронирование номеров в лучшем отеле 2021 года по версии ассоциации «Отельные взгляды»\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className='footer-item footer-item--newsletter'>\r\n            <form className='footer-newsletter'>\r\n              <p className='footer-newsletter__title'>Подписка</p>\r\n              <span>Получайте специальные предложения и новости сервиса</span>\r\n              <div className='footer-newsletter__input'>\r\n                <SubscribeInput size='small' placeholder='Email' name='email' type='email' />\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </Container>\r\n      <Divider variant='fullWidth' className='footer-divider' />\r\n      <Container>\r\n        <div className='footer-bottom'>\r\n          <p className='footer-copyright'>Copyright © 2021 Toxin отель. Все права защищены.</p>\r\n          <Link underline='none' href='https://github.com/Solexofficial' rel='noopener noreferrer' target='_blank'>\r\n            <div className='footer-social'>\r\n              <GitHub />\r\n              <span className='footer-social__link'>Solexofficial</span>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n      </Container>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import Footer from './Footer';\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport SignInPage from '../components/pages/SignInPage';\r\nimport SignUpPage from '../components/pages/SignUpPage/SignUpPage';\r\nimport { useParams } from 'react-router';\r\nimport Header from '../components/common/Header';\r\nimport Footer from '../components/common/Footer';\r\nimport Container from '../components/common/Container';\r\n\r\nconst Login = () => {\r\n  const { type } = useParams();\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Container />\r\n      {type === 'signUp' ? <SignUpPage /> : <SignInPage />}\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import httpService from './http.service';\r\n\r\nconst bookingEndPoint = 'booking/';\r\n\r\nconst bookingService = {\r\n  getAll: async () => {\r\n    const { data } = await httpService.get(bookingEndPoint);\r\n    return data;\r\n  },\r\n  create: async payload => {\r\n    const { data } = await httpService.put(bookingEndPoint + payload._id, payload);\r\n    return data;\r\n  },\r\n  remove: async id => {\r\n    await httpService.delete(bookingEndPoint + id);\r\n    return id;\r\n  },\r\n  getById: async id => {\r\n    const { data } = await httpService.get(bookingEndPoint + id);\r\n    return data;\r\n  },\r\n  getUserBookings: async userId => {\r\n    const { data } = await httpService.get(bookingEndPoint, {\r\n      params: {\r\n        orderBy: '\"userId\"',\r\n        equalTo: `\"${userId}\"`,\r\n      },\r\n    });\r\n    return data;\r\n  },\r\n  getRoomBookings: async roomId => {\r\n    const { data } = await httpService.get(bookingEndPoint, {\r\n      params: {\r\n        orderBy: '\"roomId\"',\r\n        equalTo: `\"${roomId}\"`,\r\n      },\r\n    });\r\n    return data;\r\n  },\r\n};\r\n\r\nexport default bookingService;\r\n","import httpService from './http.service';\r\n\r\nconst roomsEndPoint = 'rooms/';\r\n\r\nconst roomsService = {\r\n  getAll: async () => {\r\n    const { data } = await httpService.get(roomsEndPoint);\r\n    return data;\r\n  },\r\n  create: async payload => {\r\n    const { data } = await httpService.put(roomsEndPoint + payload._id, payload);\r\n    return data;\r\n  },\r\n  getById: async id => {\r\n    const { data } = await httpService.get(roomsEndPoint + id);\r\n    return data;\r\n  },\r\n  setBooking: async (roomId, payload) => {\r\n    const { data } = await httpService.patch(roomsEndPoint + roomId, payload);\r\n    return data;\r\n  },\r\n};\r\n\r\nexport default roomsService;\r\n","import React from 'react';\r\nimport Counter from '../../common/Counter';\r\nimport declOfNum from '../../../utils/declOfNum';\r\n\r\nexport const getGuestsLabel = (adults, children, babies) => {\r\n  const guests = [adults, children, babies];\r\n  const countGuests = guests.reduce((acc, cur) => acc + cur, 0);\r\n  const countBabies = Number(babies);\r\n\r\n  const guestsStr = `${countGuests} ${declOfNum(countGuests, ['гость', 'гостя', 'гостей'])}`;\r\n  const babiesStr = `${countBabies} ${declOfNum(countBabies, ['младенец', 'младенца', 'младенцев'])}`;\r\n\r\n  if (countGuests > 0 && countBabies > 0) {\r\n    return `${guestsStr} ${babiesStr}`;\r\n  }\r\n\r\n  return countGuests > 0 ? guestsStr : 'Сколько гостей';\r\n};\r\n\r\nconst GuestsCounter = ({ data, onChange }) => {\r\n  const { adults, children, babies } = data;\r\n\r\n  return (\r\n    <>\r\n      <p className='guests-label'>{getGuestsLabel(adults, children, babies)}</p>\r\n      <Counter name='adults' label='Взрослые' min={1} max={10} onChange={onChange} value={adults} />\r\n      <Counter name='children' label='Дети' min={0} max={10} onChange={onChange} value={children} />\r\n      <Counter name='babies' label='Младенцы' min={0} max={10} onChange={onChange} value={babies} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default GuestsCounter;\r\n","import GuestsCounter from './GuestsCounter';\r\n\r\nexport default GuestsCounter;\r\n","import declOfNum from './declOfNum';\r\n\r\nconst months = [\r\n  'Января',\r\n  'Февраля',\r\n  'Марта',\r\n  'Апреля',\r\n  'Мая',\r\n  'Июня',\r\n  'Июля',\r\n  'Августа',\r\n  'Сентября',\r\n  'Октября',\r\n  'Ноября',\r\n  'Декабря',\r\n];\r\n\r\nexport function decomposeDate(date) {\r\n  if (typeof date === 'string') {\r\n    date = Number(date);\r\n  }\r\n  const year = new Date(date).getFullYear();\r\n  const month = new Date(date).getMonth();\r\n  const day = new Date(date).getDate();\r\n  const hours = new Date(date).getHours();\r\n  const min = new Date(date).getMinutes();\r\n\r\n  return { date, year, month, day, hours, min };\r\n}\r\n\r\nexport function getDateDDMMYYYY(date) {\r\n  const { day, month, year } = decomposeDate(date);\r\n  return `${day} ${months[month]} ${year}`;\r\n}\r\n\r\nexport default function formatDate(value) {\r\n  const { year, month, day, hours, min } = decomposeDate(value);\r\n\r\n  const currentDateTime = Date.now();\r\n  const postCreatedTime = Number(value);\r\n  const diffTime = Math.abs(currentDateTime - postCreatedTime);\r\n\r\n  const checkLeapYear = year => {\r\n    return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\r\n  };\r\n\r\n  const getValidTime = (hours, min) => {\r\n    hours = hours < 10 ? `0${hours}` : hours;\r\n    min = min < 10 ? `0${min}` : min;\r\n    return `${hours}:${min}`;\r\n  };\r\n\r\n  const oneMinutesAgo = 60000;\r\n  const thirtyMinutesAgo = oneMinutesAgo * 30;\r\n  const lessOneDay = oneMinutesAgo * 60 * 24;\r\n  const lessCurrentYear = lessOneDay * (checkLeapYear(year) ? 366 : 365);\r\n\r\n  if (diffTime <= oneMinutesAgo) {\r\n    return 'только что';\r\n  } else if (diffTime <= thirtyMinutesAgo) {\r\n    const minutes = Math.floor(diffTime / 60000);\r\n    return `${minutes} ${declOfNum(minutes, ['минута', 'минуты', 'минут'])} назад`;\r\n  } else if (diffTime > thirtyMinutesAgo && diffTime <= lessOneDay) {\r\n    return `сегодня в ${getValidTime(hours, min)}`;\r\n  } else if (diffTime > lessOneDay && diffTime <= lessCurrentYear) {\r\n    return `${day} ${months[month]} в ${getValidTime(hours, min)}`;\r\n  } else if (diffTime > lessCurrentYear) {\r\n    return `${day} ${months[month]} ${year} года в ${getValidTime(hours, min)}`;\r\n  } else {\r\n    return `Этот комментарий оставило НЛО из будущего ¯\\\\_(ツ)_/¯`;\r\n  }\r\n}\r\n","import Backdrop from './Backdrop';\r\n\r\nexport default Backdrop;\r\n","import { Backdrop as MuiBackdrop } from '@mui/material';\r\nimport React from 'react';\r\nimport Loader from '../Loader';\r\n\r\nconst Backdrop = ({ isOpen }) => {\r\n  return (\r\n    <MuiBackdrop open={isOpen}>\r\n      <Loader />\r\n    </MuiBackdrop>\r\n  );\r\n};\r\n\r\nexport default Backdrop;\r\n","import Modal from './Modal';\r\n\r\nexport default Modal;\r\n","import CloseIcon from '@mui/icons-material/Close';\r\nimport { IconButton } from '@mui/material';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport React from 'react';\r\nimport Backdrop from '../Backdrop';\r\n\r\nconst Modal = ({ open, onClose, title, isLoading = false, children }) => {\r\n  return (\r\n    <>\r\n      <Dialog className='modal' onClose={onClose} open={open} keepMounted>\r\n        <DialogTitle className='modal-title'>\r\n          {title}\r\n          <IconButton className='modal-btn__close' onClick={onClose}>\r\n            <CloseIcon aria-label='close' />\r\n          </IconButton>\r\n        </DialogTitle>\r\n        {children}\r\n      </Dialog>\r\n      {isLoading && <Backdrop isOpen={isLoading} />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import CheckCircleIcon from '@mui/icons-material/CheckCircle';\r\nimport { DialogContent, DialogActions } from '@mui/material';\r\nimport React from 'react';\r\nimport { getDateDDMMYYYY } from '../../../../utils/formatDate';\r\nimport { useHistory } from 'react-router';\r\nimport Button from '../../../common/Button';\r\nimport Modal from '../../../common/Modal';\r\n\r\nconst SuccessBookingModal = ({ open, onClose, isLoading, bookingData }) => {\r\n  const history = useHistory();\r\n  const dateArrival = getDateDDMMYYYY(bookingData.arrivalDate);\r\n  const dateDeparture = getDateDDMMYYYY(bookingData.departureDate);\r\n\r\n  const handleGoBack = () => {\r\n    history.goBack();\r\n  };\r\n\r\n  const handleGoMyBooking = () => {\r\n    history.push('/profile/booking');\r\n  };\r\n\r\n  return (\r\n    <Modal title='Бронирование номера' open={open} onClose={onClose} isLoading={isLoading}>\r\n      <DialogContent>\r\n        <div className='booking-modal__text'>\r\n          <h2>Номер успешно забронирован</h2>\r\n          <CheckCircleIcon className='booking-modal__text-icon' />\r\n        </div>\r\n        <table className='booking-modal__info'>\r\n          <tbody>\r\n            <tr>\r\n              <td className='booking-modal__info-dateText'>Дата прибытия:</td>\r\n              <td className='booking-modal__info-date'>{dateArrival}</td>\r\n            </tr>\r\n            <tr>\r\n              <td className='booking-modal__info-dateText'>Дата выезда:</td>\r\n              <td className='booking-modal__info-date'>{dateDeparture}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleGoBack}>Назад</Button>\r\n        <Button onClick={handleGoMyBooking} variant='outlined'>\r\n          Мои бронирования\r\n        </Button>\r\n      </DialogActions>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default React.memo(SuccessBookingModal);\r\n","import SuccessBookingModal from './SuccessBookingModal';\r\n\r\nexport default SuccessBookingModal;\r\n","import InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\r\nimport React, { useEffect } from 'react';\r\nimport Tooltip from '../../../common/Tooltip/Tooltip';\r\n\r\nconst BookingFormPriceInfo = ({ rentPerDay, countDays, setTotalPrice, totalPrice }) => {\r\n  const DISCOUNT_PERCENT = 10;\r\n  const PRICE_SERVICE = 300;\r\n  const PRICE_RENT = rentPerDay * countDays;\r\n  const PRICE_RENT_WITH_DISCOUNT = (rentPerDay * countDays * DISCOUNT_PERCENT) / 100;\r\n\r\n  const getTotalPrice = () => {\r\n    return PRICE_RENT - PRICE_RENT_WITH_DISCOUNT + PRICE_SERVICE;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const totalPrice = getTotalPrice();\r\n    setTotalPrice(totalPrice);\r\n  }, [countDays]);\r\n\r\n  return (\r\n    <div className='booking-form__price'>\r\n      <div className='booking-form__price-item'>\r\n        <div className='price-item__result'>\r\n          <span>{`${rentPerDay}₽ x ${countDays} суток`}</span>\r\n          <span>{PRICE_RENT}&#8381;</span>\r\n        </div>\r\n      </div>\r\n      <div className='booking-form__price-item'>\r\n        <div className='price-item__with-tooltip'>\r\n          <span>Сбор за услуги: скидка {DISCOUNT_PERCENT}%</span>\r\n          <Tooltip title='Скидка на первую бронь'>\r\n            <InfoOutlinedIcon className='booking-form__tooltip-icon' />\r\n          </Tooltip>\r\n        </div>\r\n\r\n        <span>-{PRICE_RENT_WITH_DISCOUNT}&#8381;</span>\r\n      </div>\r\n      <div className='booking-form__price-item'>\r\n        <div className='price-item__with-tooltip'>\r\n          <span>Сбор за доп. услуги</span>\r\n          <Tooltip title='Чаевые для персонала уже включены в счет'>\r\n            <InfoOutlinedIcon className='booking-form__tooltip-icon' />\r\n          </Tooltip>\r\n        </div>\r\n        <span>{PRICE_SERVICE}&#8381;</span>\r\n      </div>\r\n      <div className='booking-form__price-item'>\r\n        <div className='price-item__totalPrice'>\r\n          <span className='totalPrice__text'>Итого</span>\r\n          <span className='totalPrice__dots'></span>\r\n          <span className='totalPrice__cell'>{totalPrice}&#8381;</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookingFormPriceInfo;\r\n","const validatorConfig = {\r\n  arrival: {\r\n    isValidDate: {\r\n      message: 'Поле \"Дата прибытия\" не корректна',\r\n    },\r\n  },\r\n  departure: {\r\n    isValidDate: {\r\n      message: 'Поле \"Дата прибытия\" не корректна',\r\n    },\r\n  },\r\n};\r\n\r\nexport default validatorConfig;\r\n","import { ArrowRight } from '@mui/icons-material';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory, useParams } from 'react-router';\r\nimport { Form, useAuth, useFetching, useForm, useModal } from '../../../../hooks';\r\nimport bookingService from '../../../../services/booking.service';\r\nimport roomsService from '../../../../services/rooms.service';\r\nimport Button from '../../../common/Button';\r\nimport { DateOfStayField } from '../../../common/Fields';\r\nimport GuestsCounter from '../../GuestsCounter';\r\nimport { SuccessBookingModal } from '../../modals';\r\nimport BookingFormPriceInfo from './BookingFormPriceInfo';\r\nimport validatorConfig from './validatorConfig';\r\n\r\nconst oneDayMs = 86000000;\r\n\r\nconst initialData = {\r\n  arrivalDate: Date.now(),\r\n  departureDate: Date.now() + oneDayMs,\r\n  adults: 0,\r\n  children: 0,\r\n  babies: 0,\r\n  totalPrice: 0,\r\n};\r\n\r\nconst BookingForm = ({ rentPerDay, isBooked }) => {\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  const history = useHistory();\r\n  const { roomId } = useParams();\r\n  const { isOpen, handleOpenModal, handleCloseModal } = useModal();\r\n  const { currentUser } = useAuth();\r\n\r\n  const { data, errors, enterError, setEnterError, handleInputChange, handleKeyDown, validate } = useForm(\r\n    initialData,\r\n    true,\r\n    validatorConfig\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (isBooked) {\r\n      setEnterError('Номер забронирован');\r\n    }\r\n  }, []);\r\n\r\n  const countDays = Math.max(1, Math.round((data.departureDate - data.arrivalDate) / oneDayMs));\r\n\r\n  const [setBooking] = useFetching(async (roomId, payload) => {\r\n    await roomsService.setBooking(roomId, { isBooked: payload });\r\n    setEnterError('Вы забронировали этот номер');\r\n  });\r\n\r\n  const [createBooking, isCreateBookingLoading] = useFetching(async payload => {\r\n    await bookingService.create(payload);\r\n    handleOpenModal();\r\n  });\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n    if (validate(data)) {\r\n      if (!currentUser) return history.push('../login/signIn');\r\n      const payload = {\r\n        _id: Math.random().toString(36).substring(2, 9),\r\n        userId: currentUser._id,\r\n        roomId: roomId,\r\n        ...data,\r\n        totalPrice,\r\n      };\r\n      setBooking(roomId, payload._id);\r\n      createBooking(payload);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Form\r\n        onSubmit={handleSubmit}\r\n        data={data}\r\n        errors={errors}\r\n        handleChange={handleInputChange}\r\n        handleKeyDown={handleKeyDown}\r\n      >\r\n        <DateOfStayField name='dateOfStay' className='booking-form' data={data} />\r\n        <GuestsCounter name='guests' data={data} />\r\n        <BookingFormPriceInfo\r\n          name='totalPrice'\r\n          totalPrice={totalPrice}\r\n          rentPerDay={rentPerDay}\r\n          countDays={countDays}\r\n          setTotalPrice={setTotalPrice}\r\n        />\r\n        <Button\r\n          endIcon={<ArrowRight />}\r\n          type='submit'\r\n          className='form-btn__submit mt-0'\r\n          onClick={handleSubmit}\r\n          disabled={Object.keys(errors).length > 0 || !!enterError}\r\n          fullWidth\r\n        >\r\n          Забронировать\r\n        </Button>\r\n      </Form>\r\n      {enterError && <p className='form__enter-error'>{enterError}</p>}\r\n      <SuccessBookingModal\r\n        open={isOpen}\r\n        onClose={handleCloseModal}\r\n        isLoading={!isCreateBookingLoading}\r\n        bookingData={data}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BookingForm;\r\n","import BookingForm from './BookingForm';\r\n\r\nexport default BookingForm;\r\n","const validatorConfig = {\r\n  content: {\r\n    isRequired: { message: 'Поле \"Сообщение\" не должно быть пустым' },\r\n  },\r\n};\r\n\r\nexport default validatorConfig;\r\n","import ReviewsForm from './ReviewsForm';\r\n\r\nexport default ReviewsForm;\r\n","import React from 'react';\r\nimport { Form, useForm } from '../../../../hooks';\r\nimport { RatingField, TextAreaField } from '../../../common/Fields';\r\nimport validatorConfig from './validatorConfig';\r\nimport Button from '../../../common/Button/Button';\r\n\r\nconst ReviewsForm = ({ onSubmit }) => {\r\n  const initialData = { content: '', likes: [], rating: 5 };\r\n  const { data, errors, handleInputChange, validate, handleResetForm } = useForm(initialData, true, validatorConfig);\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (validate(data)) {\r\n      onSubmit(data);\r\n      handleResetForm(e);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form data={data} errors={errors} handleChange={handleInputChange}>\r\n      <TextAreaField label='Оставить отзыв' name='content' />\r\n      <RatingField name='rating' label='Ваша оценка:' size='large' />\r\n      <Button onClick={handleSubmit} type='submit'>\r\n        Опубликовать\r\n      </Button>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default ReviewsForm;\r\n","const validatorConfig = {\r\n  arrival: {\r\n    isValidDate: {\r\n      message: 'Поле \"Дата прибытия\" не корректна',\r\n    },\r\n  },\r\n  departure: {\r\n    isValidDate: {\r\n      message: 'Поле \"Дата прибытия\" не корректна',\r\n    },\r\n  },\r\n};\r\n\r\nexport default validatorConfig;\r\n","import { ArrowRight } from '@mui/icons-material';\r\nimport React from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { Form, useForm } from '../../../../hooks';\r\nimport Button from '../../../common/Button/Button';\r\nimport { DateOfStayField } from '../../../common/Fields';\r\nimport GuestsCounter from '../../GuestsCounter';\r\nimport validatorConfig from './validatorConfig';\r\n\r\nconst oneDayMs = 86000000;\r\n\r\nconst initialData = {\r\n  arrivalDate: Date.now(),\r\n  departureDate: Date.now() + oneDayMs,\r\n  adults: 0,\r\n  children: 0,\r\n  babies: 0,\r\n};\r\n\r\nconst SearchRoomsForm = () => {\r\n  const history = useHistory();\r\n\r\n  const { data, errors, handleInputChange, handleKeyDown, validate, handleResetForm } = useForm(\r\n    initialData,\r\n    true,\r\n    validatorConfig\r\n  );\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n    if (validate(data)) {\r\n      // history.push(`/rooms`);\r\n      console.log(history);\r\n      console.log(data);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form\r\n      onSubmit={handleSubmit}\r\n      data={data}\r\n      errors={errors}\r\n      handleChange={handleInputChange}\r\n      handleKeyDown={handleKeyDown}\r\n    >\r\n      <DateOfStayField name='dateOfStay' data={data} />\r\n      <GuestsCounter name='guests' data={data} />\r\n      <Button\r\n        variant='outlined'\r\n        type='button'\r\n        size='small'\r\n        onClick={handleResetForm}\r\n        className='form-btn__reset'\r\n        fullWidth\r\n      >\r\n        Очистить\r\n      </Button>\r\n      <Button\r\n        endIcon={<ArrowRight />}\r\n        type='submit'\r\n        className='form-btn__submit'\r\n        onClick={handleSubmit}\r\n        disabled={Object.keys(errors).length > 0}\r\n        fullWidth\r\n      >\r\n        Подобрать номер\r\n      </Button>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default SearchRoomsForm;\r\n","import SearchRoomsForm from './SearchRoomsForm';\r\n\r\nexport default SearchRoomsForm;\r\n","import HomePage from './HomePage';\r\n\r\nexport default HomePage;\r\n","import { Paper } from '@mui/material';\r\nimport React from 'react';\r\nimport { useAuth } from '../../../hooks/useAuth';\r\nimport useMockData from '../../../hooks/useMockData';\r\nimport Container from '../../common/Container';\r\nimport { SearchRoomsForm } from '../../ui/forms';\r\n\r\nconst HomePage = () => {\r\n  const { currentUser } = useAuth();\r\n  const { error, initialize, progress, status } = useMockData();\r\n\r\n  const handleClick = () => {\r\n    console.log('clicked');\r\n    initialize();\r\n  };\r\n\r\n  return (\r\n    <main className='main-home__page'>\r\n      <Container>\r\n        <div className='main-home__wrapper'>\r\n          <h1 className='visually-hidden'>Поиск номеров в отеле toxin result school</h1>\r\n          <Paper elevation={3} className='form-card searchRooms-form'>\r\n            <h2>Найдём номера под ваши пожелания</h2>\r\n            <SearchRoomsForm />\r\n          </Paper>\r\n          <p className='main__text-wishes'>Лучшие номера для вашей работы, отдыха и просто вдохновения</p>\r\n        </div>\r\n        {currentUser?.role === 'admin' && (\r\n          <>\r\n            <h3>Инициализация данных в FireBase</h3>\r\n            <ul>\r\n              <li>Status: {status}</li>\r\n              <li>Progress: {progress}%</li>\r\n              {error && <li>error: {error}</li>}\r\n            </ul>\r\n            <button className='btn btn-primary' onClick={handleClick}>\r\n              Инициализировать\r\n            </button>\r\n          </>\r\n        )}\r\n      </Container>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","import React from 'react';\r\nimport Footer from '../components/common/Footer';\r\nimport Header from '../components/common/Header';\r\nimport HomePage from '../components/pages/HomePage';\r\n\r\nconst Main = () => {\r\n  return (\r\n    <>\r\n      <Header />\r\n      <HomePage />\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import { Breadcrumbs as MuiBreadcrumbs, Link } from '@mui/material';\r\nimport React from 'react';\r\nimport { Link as RouterLink, Route, useHistory } from 'react-router-dom';\r\n\r\nconst breadcrumbsMap = {\r\n  '/rooms': 'Доступные номера',\r\n  '/profile': 'Мой профиль',\r\n  '/profile/booking': 'Мои Бронирования',\r\n  '/profile/likes': 'Понравилось',\r\n  '/profile/favorites': 'Избранное',\r\n  '/profile/edit': 'Редактировать профиль',\r\n  '/profile/dashboard': 'Панель администратора',\r\n};\r\n\r\nconst LinkRouter = props => <Link {...props} className='breadcrumbs-item' underline='hover' component={RouterLink} />;\r\n\r\nconst Breadcrumbs = () => {\r\n  const history = useHistory();\r\n  return (\r\n    <div className='breadcrumbs'>\r\n      <Route>\r\n        {() => {\r\n          const pathNames = history.location.pathname.split('/').filter(x => x);\r\n\r\n          return (\r\n            <MuiBreadcrumbs aria-label='breadcrumb'>\r\n              <LinkRouter className='breadcrumbs-item' to='/'>\r\n                Главная\r\n              </LinkRouter>\r\n              {pathNames.map((value, index) => {\r\n                const last = index === pathNames.length - 1;\r\n                const to = `/${pathNames.slice(0, index + 1).join('/')}`;\r\n\r\n                return last ? (\r\n                  <span className='breadcrumbs-item--last' key={to}>\r\n                    {breadcrumbsMap[to] || pathNames[pathNames.length - 1]}\r\n                  </span>\r\n                ) : (\r\n                  <LinkRouter to={to} key={to}>\r\n                    {breadcrumbsMap[to]}\r\n                  </LinkRouter>\r\n                );\r\n              })}\r\n            </MuiBreadcrumbs>\r\n          );\r\n        }}\r\n      </Route>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Breadcrumbs;\r\n","import Breadcrumbs from './Breadcrumbs';\r\n\r\nexport default Breadcrumbs;\r\n","import React from 'react';\r\nimport Slider from 'react-slick';\r\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\r\n\r\nconst defaultSettings = {\r\n  dots: true,\r\n  nextArrow: <NextButton />,\r\n  prevArrow: <PrevButton />,\r\n  infinite: true,\r\n  slidesToShow: 1,\r\n  slidesToScroll: 1,\r\n};\r\n\r\nfunction NextButton({ onClick }) {\r\n  return (\r\n    <button className='slick-arrow slick-arrow--next' onClick={onClick}>\r\n      <ChevronRightIcon />\r\n    </button>\r\n  );\r\n}\r\n\r\nfunction PrevButton({ onClick }) {\r\n  return (\r\n    <button className='slick-arrow slick-arrow--before' onClick={onClick}>\r\n      <ChevronLeftIcon />\r\n    </button>\r\n  );\r\n}\r\n\r\nconst ImageSlider = ({ children, ...settings }) => {\r\n  return (\r\n    <Slider {...defaultSettings} {...settings}>\r\n      {children}\r\n    </Slider>\r\n  );\r\n};\r\n\r\nexport default ImageSlider;\r\n","import ImageSlider from './ImageSlider';\r\n\r\nexport default ImageSlider;\r\n","import httpService from './http.service';\r\n\r\nconst reviewsEndPoint = 'reviews/';\r\n\r\nconst reviewsService = {\r\n  getAll: async () => {\r\n    const { data } = await httpService.get(reviewsEndPoint);\r\n    return data;\r\n  },\r\n  getByRoomId: async roomId => {\r\n    const { data } = await httpService.get(reviewsEndPoint);\r\n    const { content } = data;\r\n    return content.filter(review => review.roomId === roomId);\r\n  },\r\n  getById: async reviewId => {\r\n    const { data } = await httpService.get(reviewsEndPoint + reviewId);\r\n    return data;\r\n  },\r\n  getByReviewsIds: async reviewsIds => {\r\n    const { data } = await httpService.get(reviewsEndPoint);\r\n    const { content } = data;\r\n    return content.filter(el => reviewsIds.includes(el._id));\r\n  },\r\n  create: async payload => {\r\n    const newReview = {\r\n      _id: Math.random().toString(36).substring(2, 9),\r\n      created_at: Date.now(),\r\n      ...payload,\r\n    };\r\n    const { data } = await httpService.put(reviewsEndPoint + newReview._id, newReview);\r\n    return data;\r\n  },\r\n  remove: async id => {\r\n    await httpService.delete(reviewsEndPoint + id);\r\n    return id;\r\n  },\r\n};\r\n\r\nexport default reviewsService;\r\n","import httpService from './http.service';\r\n\r\nconst likesEndPoint = 'likes/';\r\n\r\nconst likesService = {\r\n  getAll: async () => {\r\n    const { data } = await httpService.get(likesEndPoint);\r\n    return data;\r\n  },\r\n  getByReviewId: async reviewId => {\r\n    const { data } = await httpService.get(likesEndPoint);\r\n    const { content } = data;\r\n    return content.filter(like => like.reviewId === reviewId);\r\n  },\r\n  getByUserId: async userId => {\r\n    const { data } = await httpService.get(likesEndPoint);\r\n    const { content } = data;\r\n    return content.filter(like => like.userId === userId);\r\n  },\r\n  create: async (userId, reviewId) => {\r\n    const newLike = {\r\n      _id: Math.random().toString(36).substring(2, 9),\r\n      userId,\r\n      reviewId,\r\n    };\r\n    const { data } = await httpService.put(likesEndPoint + newLike._id, newLike);\r\n    return data;\r\n  },\r\n  remove: async id => {\r\n    await httpService.delete(likesEndPoint + id);\r\n    return id;\r\n  },\r\n};\r\n\r\nexport default likesService;\r\n","import Tooltip from './Tooltip';\r\n\r\nexport default Tooltip;\r\n","import Avatar from './Avatar';\r\n\r\nexport default Avatar;\r\n","import ButtonLike from './ButtonLike';\r\n\r\nexport default ButtonLike;\r\n","import { IconButton } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport FavoriteBorderIcon from '@mui/icons-material/FavoriteBorder';\r\nimport { useAuth } from '../../../hooks/useAuth';\r\n\r\nconst ButtonLike = ({ likes, onToggle }) => {\r\n  const [status, setStatus] = useState(false);\r\n\r\n  const { currentUser } = useAuth();\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      setStatus(likes.some(el => el.userId === currentUser?._id));\r\n    }\r\n  }, [likes, currentUser]);\r\n\r\n  return (\r\n    <IconButton\r\n      aria-label='like'\r\n      onClick={onToggle}\r\n      className={status ? 'like-button like-button--active' : 'like-button'}\r\n      disableRipple\r\n      disabled={!currentUser}\r\n    >\r\n      <div className='like-button__wrapper'>\r\n        <span className='visually-hidden'>Количество лайков:</span>\r\n        {status ? <FavoriteIcon /> : <FavoriteBorderIcon />}\r\n        {likes.length}\r\n      </div>\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default ButtonLike;\r\n","import ClearIcon from '@mui/icons-material/Clear';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport { IconButton } from '@mui/material';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useAuth } from '../../../../hooks';\r\nimport likesService from '../../../../services/likes.service';\r\nimport userService from '../../../../services/user.service';\r\nimport formatDate from '../../../../utils/formatDate';\r\nimport Loader from '../../../common/Loader';\r\nimport Rating from '../../../common/Rating';\r\nimport Tooltip from '../../../common/Tooltip';\r\nimport Avatar from '../../../common/Avatar';\r\nimport ButtonLike from '../../../common/ButtonLike';\r\n\r\nconst Review = ({ review, onRemove }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [likes, setLikes] = useState([]);\r\n\r\n  const { currentUser } = useAuth();\r\n\r\n  const isAdmin = currentUser?.role === 'admin';\r\n  const isAuthor = review.userId === currentUser?._id;\r\n  const showDeleteBtn = isAdmin || isAuthor;\r\n\r\n  const getUser = async id => {\r\n    const { content } = await userService.getById(id);\r\n    setUser(content);\r\n  };\r\n\r\n  const getLikes = async reviewId => {\r\n    try {\r\n      const likes = await likesService.getByReviewId(reviewId);\r\n      setLikes(likes);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const removeLike = async user => {\r\n    try {\r\n      const userLike = likes.find(like => like.userId === user._id);\r\n      const likeId = await likesService.remove(userLike._id);\r\n      setLikes(prevState => prevState.filter(like => like._id !== likeId));\r\n      console.log(likes);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const addLike = async user => {\r\n    try {\r\n      const { content } = await likesService.create(user._id, review._id);\r\n      setLikes(prevState => [...prevState, content]);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUser(review.userId);\r\n    getLikes(review._id);\r\n  }, [review]);\r\n\r\n  const toggleLike = () => {\r\n    if (likes.some(el => el.userId === currentUser._id)) {\r\n      removeLike(currentUser);\r\n    } else {\r\n      addLike(currentUser);\r\n    }\r\n  };\r\n\r\n  if (user) {\r\n    return (\r\n      <li className='reviews-list__item'>\r\n        <div className='review'>\r\n          <div className='review__avatar'>\r\n            <div className='avatar'>\r\n              <Avatar alt='пользователя' src={user.avatarPhoto} className='avatar__img' />\r\n            </div>\r\n            <ButtonLike likes={likes} onToggle={toggleLike} />\r\n          </div>\r\n          <div className='review__content'>\r\n            <div className='review__user-name'>\r\n              {`${user.firstName} ${user.secondName}`}\r\n              {isAuthor && (\r\n                <div className='review__edit-btn'>\r\n                  <Tooltip title='Редактировать'>\r\n                    <IconButton onClick={() => console.log('edit review')}>\r\n                      <EditIcon fontSize='small' />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                </div>\r\n              )}\r\n              {showDeleteBtn && (\r\n                <div className='review__delete-btn'>\r\n                  <Tooltip title='Удалить отзыв'>\r\n                    <IconButton onClick={() => onRemove(review._id)}>\r\n                      <ClearIcon fontSize='small' />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                </div>\r\n              )}\r\n              <div className='review__rating'>\r\n                <Rating value={review.rating} readOnly />\r\n              </div>\r\n            </div>\r\n            <p className='review__date'>{formatDate(review.created_at)}</p>\r\n            <p className='review__message'>{review.content}</p>\r\n          </div>\r\n        </div>\r\n      </li>\r\n    );\r\n  }\r\n  return <Loader />;\r\n};\r\n\r\nexport default Review;\r\n","import Review from './Review';\r\n\r\nexport default Review;\r\n","import ReviewsList from './ReviewsList';\r\n\r\nexport default ReviewsList;\r\n","import React from 'react';\r\nimport Review from '../Review';\r\n\r\nconst ReviewsList = ({ reviews, handleRemove }) => {\r\n  return (\r\n    <ul className='reviews-list'>\r\n      {reviews.map(review => (\r\n        <Review key={review._id} review={review} onRemove={handleRemove} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ReviewsList;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router';\r\nimport { useAuth } from '../../../../hooks';\r\nimport reviewsService from '../../../../services/reviews.service';\r\nimport declOfNum from '../../../../utils/declOfNum';\r\nimport { ReviewsForm } from '../../forms';\r\nimport ReviewsList from '../ReviewsList';\r\n\r\nconst Reviews = () => {\r\n  const { roomId } = useParams();\r\n  const [reviews, setReviews] = useState([]);\r\n\r\n  const { currentUser } = useAuth();\r\n\r\n  const getReviews = async roomId => {\r\n    try {\r\n      const reviews = await reviewsService.getByRoomId(roomId);\r\n      setReviews(reviews);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const createReview = async payload => {\r\n    try {\r\n      const { content } = await reviewsService.create(payload);\r\n      setReviews(prevState => [...prevState, content]);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const removeReview = async id => {\r\n    try {\r\n      const reviewId = await reviewsService.remove(id);\r\n      setReviews(prevState => prevState.filter(review => review._id !== reviewId));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getReviews(roomId);\r\n  }, [roomId]);\r\n\r\n  const handleSubmit = data => {\r\n    const payload = {\r\n      ...data,\r\n      roomId,\r\n      userId: currentUser._id,\r\n    };\r\n    createReview(payload);\r\n  };\r\n\r\n  const sortedReviews = reviews.sort((a, b) => b.created_at - a.created_at);\r\n  const totalReviewsCount = sortedReviews.length;\r\n\r\n  return (\r\n    <>\r\n      {reviews.length > 0 && (\r\n        <section className='reviews'>\r\n          <div className='reviews-title'>\r\n            <h2 className='room-info__card-title'>Отзывы посетителей номера</h2>\r\n            <span>{`${totalReviewsCount} ${declOfNum(totalReviewsCount, ['отзыв', 'отзыва', 'отзывов'])}`}</span>\r\n          </div>\r\n          {totalReviewsCount > 0 && <ReviewsList reviews={sortedReviews} handleRemove={removeReview} />}\r\n        </section>\r\n      )}\r\n      {currentUser && (\r\n        <section className='reviews-form'>\r\n          <h2>Оставить отзыв</h2>\r\n          <ReviewsForm onSubmit={handleSubmit} />\r\n        </section>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Reviews;\r\n","import Reviews from './Reviews';\r\n\r\nexport default Reviews;","import React from 'react';\r\nimport LocationCityIcon from '@mui/icons-material/LocationCity';\r\nimport MoodIcon from '@mui/icons-material/Mood';\r\nimport WhatshotIcon from '@mui/icons-material/Whatshot';\r\nimport Divider from '../../common/Divider/Divider';\r\n\r\nconst RoomInfoCard = () => {\r\n  return (\r\n    <div className='room-info__card'>\r\n      <h3 className='room-info__card-title'>Сведения о номере</h3>\r\n      <ul className='features-list'>\r\n        <li className='features-list__item'>\r\n          <div className='feature'>\r\n            <MoodIcon className='feature__icon' />\r\n            <div className='feature-content'>\r\n              <div className='feature__title'>Комфорт</div>\r\n              <div className='feature__subtitle'>Шумопоглащающие стены</div>\r\n            </div>\r\n          </div>\r\n          <Divider className='feature-separator' />\r\n        </li>\r\n        <li className='features-list__item'>\r\n          <div className='feature'>\r\n            <LocationCityIcon className='feature__icon' />\r\n            <div className='feature-content'>\r\n              <div className='feature__title'>Удобство</div>\r\n              <div className='feature__subtitle'>Окно в каждой из спален</div>\r\n            </div>\r\n          </div>\r\n          <Divider className='feature-separator' />\r\n        </li>\r\n        <li className='features-list__item'>\r\n          <div className='feature'>\r\n            <WhatshotIcon className='feature__icon' />\r\n            <div className='feature-content'>\r\n              <div className='feature__title'>Уют</div>\r\n              <div className='feature__subtitle'>Номер оснащен камином</div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoomInfoCard;\r\n","import React from 'react';\r\nimport declOfNum from '../../../utils/declOfNum';\r\n\r\nconst RoomReviewsCard = ({ countReviews }) => {\r\n  return (\r\n    <div className='room-info__card'>\r\n      <h3 className='room-info__card-title'>Впечатления от номера</h3>\r\n      Оценок\r\n      <span className='room-info__card-rating'>{`${countReviews} ${declOfNum(countReviews, [\r\n        'Отзыв',\r\n        'Отзыва',\r\n        'Отзывов',\r\n      ])}`}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoomReviewsCard;\r\n","import React from 'react';\r\n\r\nconst RoomRulesCard = () => {\r\n  return (\r\n    <div className='room-info__card'>\r\n      <h3 className='room-info__card-title'>Правила</h3>\r\n      <ul className='bullet-list'>\r\n        <li className='bullet-list__item'>Нельзя с питомцами</li>\r\n        <li className='bullet-list__item'>Без вечеринок и мероприятий</li>\r\n        <li className='bullet-list__item'>Время прибытия — после 13:00, а выезд до 12:00</li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoomRulesCard;\r\n","import React from 'react';\r\n\r\nconst RoomCancelCard = () => {\r\n  return (\r\n    <div className='room-info__card'>\r\n      <h3 className='room-info__card-title'>Отмена</h3>\r\n      <p>\r\n        Бесплатная отмена в течение 48 ч. После этого при отмене не позднее чем за 5 дн. до прибытия вы получите полный\r\n        возврат за вычетом сбора за услуги.\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoomCancelCard;\r\n","import { Paper } from '@mui/material';\r\nimport React, { useEffect, useState } from 'react';\r\nimport roomsService from '../../../services/rooms.service';\r\nimport ImageSlider from '../../common/ImageSlider';\r\nimport Loader from '../../common/Loader';\r\nimport { BookingForm } from '../../ui/forms';\r\nimport Reviews from '../../ui/reviews/Reviews';\r\nimport RoomInfoCard from '../../ui/RoomPageCards/RoomInfoCard';\r\nimport RoomReviewsCard from '../../ui/RoomPageCards/RoomReviewsCard';\r\nimport RoomRulesCard from '../../ui/RoomPageCards/RoomRulesCard';\r\nimport RoomCancelCard from '../../ui/RoomPageCards/RoomCancelCard';\r\n\r\nconst RoomPage = ({ roomId }) => {\r\n  const [currentRoom, setRoom] = useState(null);\r\n  console.log('room render');\r\n\r\n  const getRoomData = async id => {\r\n    const { content } = await roomsService.getById(id);\r\n    setRoom(content);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getRoomData(roomId);\r\n  }, []);\r\n\r\n  if (currentRoom) {\r\n    const { images, countReviews, type, rentPerDay, isBooked } = currentRoom;\r\n    return (\r\n      <main>\r\n        <ImageSlider className='room-page__gallery'>\r\n          {Object.keys(images).map(img => (\r\n            <img key={img} className='room-page__gallery-item--img' src={images[img]} alt='roomsPhoto' />\r\n          ))}\r\n        </ImageSlider>\r\n        <div className='room-info'>\r\n          <div className='room-info__column'>\r\n            <div className='room-info__group'>\r\n              <RoomInfoCard />\r\n              <RoomReviewsCard countReviews={countReviews} />\r\n            </div>\r\n            <Reviews />\r\n            <div className='room-info__group'>\r\n              <RoomRulesCard />\r\n              <RoomCancelCard />\r\n            </div>\r\n          </div>\r\n          <div className='room-info__form'>\r\n            <Paper elevation={3} className='form-card booking-form__card'>\r\n              <div className='booking-form__header'>\r\n                <div className='booking-form__numberRoom'>\r\n                  <span className='booking-form__numberRoom-text'>№ {currentRoom.numberRoom}</span>\r\n                  {type && <span className='booking-form__numberRoom-type'>{type}</span>}\r\n                </div>\r\n                <div className='booking-form__cost'>\r\n                  <span>{rentPerDay}&#8381;</span> в сутки\r\n                </div>\r\n              </div>\r\n\r\n              <BookingForm rentPerDay={rentPerDay} isBooked={isBooked} />\r\n            </Paper>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    );\r\n  }\r\n  return <Loader />;\r\n};\r\n\r\nexport default RoomPage;\r\n","import RoomPage from './RoomPage';\r\n\r\nexport default RoomPage;\r\n","import Pagination from './Pagination';\r\n\r\nexport default Pagination;\r\n","import { Pagination as MuiPagination } from '@mui/material';\r\nimport React from 'react';\r\n\r\nconst Pagination = ({ items, pageSize, currentPage, onChange, ...rest }) => {\r\n  const itemsCount = items.length;\r\n  const pagesCount = Math.ceil(itemsCount / pageSize);\r\n  if (pagesCount === 1 || itemsCount === 0) return null;\r\n\r\n  return (\r\n    <div className='pagination'>\r\n      <MuiPagination count={pagesCount} defaultPage={1} onChange={onChange} size='large' variant='outlined' {...rest} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import RoomsDisplayCount from './RoomsDisplayCount';\r\n\r\nexport default RoomsDisplayCount;\r\n","import React from 'react';\r\nimport { SelectField } from '../../../common/Fields';\r\n\r\nconst RoomsDisplayCount = ({ count, setCount }) => {\r\n  return (\r\n    <SelectField\r\n      style={{ minWidth: '140px' }}\r\n      autoWidth={true}\r\n      label='Отображать по'\r\n      value={count}\r\n      onChange={({ target }) => setCount(target.value)}\r\n      options={[\r\n        { name: '6', value: 6 },\r\n        { name: '12', value: 12 },\r\n        { name: '18', value: 18 },\r\n        { name: '24', value: 24 },\r\n      ]}\r\n    />\r\n  );\r\n};\r\n\r\nexport default RoomsDisplayCount;\r\n","import RoomsFiltersItem from './RoomsFiltersItem';\r\n\r\nexport default RoomsFiltersItem;\r\n","import React from 'react';\r\n\r\nconst RoomsFiltersItem = ({ title, children }) => {\r\n  return (\r\n    <div className='filters__item'>\r\n      <fieldset className='filters__group'>\r\n        {title && <legend className='filters__group-title'>{title}</legend>}\r\n        {children}\r\n      </fieldset>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoomsFiltersItem;\r\n","import React from 'react';\r\nimport RoomsFilterItem from '../RoomsFiltersItem';\r\n\r\nconst RoomsFiltersList = ({ handleChange, data, children }) => {\r\n  const clonedElements = React.Children.map(children, child => {\r\n    const childType = typeof child.type;\r\n    let config = {};\r\n    if (\r\n      childType === 'object' ||\r\n      (childType === 'function' && child.props.type !== 'submit' && child.props.type !== 'button')\r\n    ) {\r\n      config = {\r\n        ...child.props,\r\n        data,\r\n        onChange: handleChange,\r\n        value: data[child.props.name] || '',\r\n      };\r\n    }\r\n\r\n    return <RoomsFilterItem title={child.props.title}>{React.cloneElement(child, config)}</RoomsFilterItem>;\r\n  });\r\n\r\n  return <form className='filters__form'>{clonedElements}</form>;\r\n};\r\n\r\nexport default RoomsFiltersList;\r\n","import React from 'react';\r\nimport Button from '../../../common/Button';\r\nimport { Checkbox, CheckBoxList, DateOfStayField, RangeSliderField } from '../../../common/Fields';\r\nimport GuestsCounter from '../../GuestsCounter/GuestsCounter';\r\nimport RoomsFilterList from './RoomsFiltersList/RoomsFiltersList';\r\n\r\nconst RoomsFilter = ({ data, handleResetForm, handleInputChange }) => {\r\n  console.log('rooms filter render');\r\n\r\n  return (\r\n    <section className='filters__wrapper'>\r\n      <h2 className='visually-hidden'>Поиск номеров в отеле toxin</h2>\r\n      <RoomsFilterList data={data} handleChange={handleInputChange}>\r\n        <DateOfStayField title='Дата пребывания в отеле' name='dateOfStay' />\r\n        <GuestsCounter />\r\n        <RangeSliderField\r\n          label='Диапазон цены'\r\n          description='Стоимость за сутки пребывания в номере'\r\n          name='rentPerDay'\r\n          min={0}\r\n          max={15000}\r\n        />\r\n        <CheckBoxList title='Удобства'>\r\n          <Checkbox label='Wi-Fi' name='hasWifi' />\r\n          <Checkbox label='Кондиционер' name='hasConditioner' />\r\n          <Checkbox label='Рабочее место' name='hasWorkSpace' />\r\n        </CheckBoxList>\r\n        <CheckBoxList title='Условия размещения'>\r\n          <Checkbox label='Можно c питомцами' name='canPets' />\r\n          <Checkbox label='Можно курить' name='canSmoke' />\r\n          <Checkbox label='Можно пригласить гостей (до 10 человек)' name='canInvite' />\r\n        </CheckBoxList>\r\n        <CheckBoxList title='Доступность'>\r\n          <Checkbox\r\n            label='Широкий коридор'\r\n            name='hasWideCorridor'\r\n            labelDetails='Ширина коридоров в номере не менее 91см'\r\n          />\r\n          <Checkbox\r\n            label='Помощник для инвалидов'\r\n            name='hasDisabledAssistant'\r\n            labelDetails='На 1 этаже вас встретит специалист и проводит до номера'\r\n          />\r\n        </CheckBoxList>\r\n        <Button onClick={handleResetForm} fullWidth>\r\n          Сбросить Фильтры\r\n        </Button>\r\n      </RoomsFilterList>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default React.memo(RoomsFilter);\r\n","import RoomsFilters from './RoomsFilters';\r\n\r\nexport default RoomsFilters;\r\n","import Badge from './Badge';\r\n\r\nexport default Badge;\r\n","import React from 'react';\r\nimport { Badge as MuiBadge } from '@mui/material';\r\n\r\nconst Badge = ({ children, ...props }) => {\r\n  return <MuiBadge {...props}>{children}</MuiBadge>;\r\n};\r\n\r\nexport default Badge;\r\n","import AcUnitIcon from '@mui/icons-material/AcUnit';\r\nimport ComputerIcon from '@mui/icons-material/Computer';\r\nimport WifiIcon from '@mui/icons-material/Wifi';\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Badge from '../../../common/Badge';\r\nimport Divider from '../../../common/Divider';\r\nimport ImageSlider from '../../../common/ImageSlider';\r\nimport Rating from '../../../common/Rating';\r\nimport declOfNum from '../../../../utils/declOfNum';\r\n\r\nconst comfortIconsMap = {\r\n  hasWifi: <WifiIcon />,\r\n  hasConditioner: <AcUnitIcon />,\r\n  hasWorkSpace: <ComputerIcon />,\r\n};\r\n\r\nconst RoomCard = ({ _id, numberRoom, rentPerDay, rate, countReviews, type, images, comforts }) => {\r\n  return (\r\n    <div className='room-card'>\r\n      {comforts && (\r\n        <Badge className='badge'>\r\n          {comforts.map(comfort => (\r\n            <div key={comfort}>{comfortIconsMap[comfort]}</div>\r\n          ))}\r\n        </Badge>\r\n      )}\r\n      <ImageSlider className='room-card__gallery'>\r\n        {images &&\r\n          Object.keys(images).map(img => (\r\n            <div className='room-card__gallery-item' key={img}>\r\n              <img className='room-card__gallery-item--img' src={images[img]} alt='roomsPhoto' />\r\n            </div>\r\n          ))}\r\n      </ImageSlider>\r\n      <Link to={`/rooms/${_id}`} className='room-card__description'>\r\n        <div className='room-card__description-row'>\r\n          <h3 className='room-card__title'>\r\n            № <span className='room-card__title--big'>{numberRoom}</span>\r\n            {type === 'Люкс' && <span className='room-card__type'>{type}</span>}\r\n          </h3>\r\n          <div className='room-card__rentPerDay'>\r\n            <span>{rentPerDay}&#8381;</span> в сутки\r\n          </div>\r\n        </div>\r\n        <Divider />\r\n        <div className='room-card__description-row'>\r\n          <div className='room-card__rating'>\r\n            <Rating name='read-only' value={rate} totalCount={countReviews} readOnly />\r\n          </div>\r\n          <div className='room-card__reviews'>\r\n            <span className='room-card__reviews-count'>{`${countReviews} ${declOfNum(countReviews, [\r\n              'Отзыв',\r\n              'Отзыва',\r\n              'Отзывов',\r\n            ])}`}</span>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoomCard;\r\n","import RoomCard from './RoomCard';\r\n\r\nexport default RoomCard;\r\n","import RoomsList from './RoomsList';\r\n\r\nexport default RoomsList;\r\n","import React from 'react';\r\nimport RoomCard from '../RoomCard';\r\n\r\nconst RoomsList = ({ rooms }) => {\r\n  return (\r\n    <ul className='rooms__list'>\r\n      {rooms.map(room => (\r\n        <li key={room._id} className='rooms__list-item'>\r\n          <RoomCard {...room} />\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default RoomsList;\r\n","import React from 'react';\r\nimport Skeleton from '@mui/material/Skeleton';\r\nimport Divider from '../../../common/Divider';\r\n\r\nconst RoomCardSkeleton = () => {\r\n  return (\r\n    <div className='room-card__skeleton'>\r\n      <Skeleton variant='rectangular' animation='wave' height={150} />\r\n      <Skeleton variant='text' animation='wave' height={50} />\r\n      <Divider />\r\n      <Skeleton variant='text' animation='wave' height={50} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoomCardSkeleton;\r\n","import React from 'react';\r\nimport RoomCardSkeleton from '../RoomCard/RoomCardSkeleton';\r\n\r\nconst RoomsListSkeleton = ({ pageSize }) => {\r\n  const roomsSkeletonArray = Array(pageSize).fill('');\r\n  return (\r\n    <ul className='rooms__list'>\r\n      {roomsSkeletonArray.map((_, idx) => (\r\n        <li key={idx} className='rooms__list-item'>\r\n          <RoomCardSkeleton />\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default RoomsListSkeleton;\r\n","import React from 'react';\r\nimport { SelectField } from '../../../common/Fields';\r\n\r\nconst roomsSortArray = [\r\n  { name: 'По убыванию', value: { path: 'numberRoom', order: 'desc' } },\r\n  { name: 'По возрастанию', value: { path: 'numberRoom', order: 'asc' } },\r\n  { name: 'Популярное', value: { path: 'countReviews', order: 'desc' } },\r\n  { name: 'Высокий рейтинг', value: { path: 'rate', order: 'desc' } },\r\n  { name: 'Сначала дешёвые', value: { path: 'rentPerDay', order: 'asc' } },\r\n  { name: 'Сначала дорогие', value: { path: 'rentPerDay', order: 'desc' } },\r\n];\r\n\r\nconst RoomsSort = ({ sortBy, onSort }) => {\r\n  return (\r\n    <SelectField\r\n      style={{ minWidth: '200px' }}\r\n      label='Сортировать'\r\n      value={JSON.stringify(sortBy)}\r\n      onChange={onSort}\r\n      options={roomsSortArray}\r\n    />\r\n  );\r\n};\r\n\r\nexport default RoomsSort;\r\n","import RoomsSort from './RoomsSort';\r\n\r\nexport default RoomsSort;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useFetching, useForm, usePagination, useRoomsFilter, useSort } from '../../../hooks';\r\nimport roomsService from '../../../services/rooms.service';\r\nimport Pagination from '../../common/Pagination';\r\nimport RoomsDisplayCount from '../../ui/rooms/RoomsDisplayCount';\r\nimport RoomsFilter from '../../ui/rooms/RoomsFilters';\r\nimport RoomsList from '../../ui/rooms/RoomsList';\r\nimport RoomsListSkeleton from '../../ui/rooms/RoomsList/RoomsListSkeleton';\r\nimport RoomsSort from '../../ui/rooms/RoomsSort';\r\n\r\nconst oneDayMs = 86000000;\r\n\r\nconst filtersInitialData = {\r\n  dateOfStay: {\r\n    arrival: Date.now(),\r\n    departure: Date.now() + oneDayMs,\r\n  },\r\n  arrivalDate: Date.now(),\r\n  departureDate: Date.now() + oneDayMs,\r\n  adults: 0,\r\n  children: 0,\r\n  babies: 0,\r\n  rentPerDay: [0, 15000],\r\n  canSmoke: false,\r\n  canPets: false,\r\n  canInvite: false,\r\n  hasWideCorridor: false,\r\n  hasDisabledAssistant: false,\r\n  hasWifi: false,\r\n  hasConditioner: false,\r\n  hasWorkSpace: false,\r\n};\r\n\r\nconst RoomsPage = () => {\r\n  const [rooms, setRoomsList] = useState(null);\r\n  const [sortBy, setSortBy] = useState({ path: 'numberRoom', order: 'desc' });\r\n  const [pageSize, setPageSize] = useState(12);\r\n\r\n  const { data, setData, handleInputChange, handleResetForm } = useForm(filtersInitialData, false, {});\r\n  const { sortedItems } = useSort(rooms, sortBy);\r\n  const { filteredItems } = useRoomsFilter(sortedItems, data);\r\n  const { currentPage, handleChangePage, itemsListCrop } = usePagination(filteredItems || [], pageSize);\r\n\r\n  const [fetchingRooms, roomsIsLoading] = useFetching(async () => {\r\n    const { content } = await roomsService.getAll();\r\n    setRoomsList(content);\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchingRooms();\r\n  }, []);\r\n\r\n  const handleSort = ({ target }) => {\r\n    setSortBy(JSON.parse(target.value));\r\n  };\r\n\r\n  return (\r\n    <main className='rooms-page'>\r\n      <aside className='rooms-page__filters'>\r\n        <RoomsFilter\r\n          data={data}\r\n          setData={setData}\r\n          handleInputChange={handleInputChange}\r\n          handleResetForm={handleResetForm}\r\n        />\r\n      </aside>\r\n      <section className='rooms-page__rooms'>\r\n        <RoomsSort sortBy={sortBy} onSort={handleSort} />\r\n        <RoomsDisplayCount count={pageSize} setCount={setPageSize} />\r\n        <h2 className='rooms__title'>Номера, которые мы для вас подобрали</h2>\r\n        {roomsIsLoading ? <RoomsListSkeleton pageSize={pageSize} /> : <RoomsList rooms={itemsListCrop} />}\r\n        {itemsListCrop.length === 0 && <h2>Мы не нашли для вас подходящих номеров по вашим параметрам &#128577;</h2>}\r\n\r\n        {filteredItems.length > pageSize && (\r\n          <div className='rooms-page__pagination'>\r\n            <Pagination\r\n              items={filteredItems}\r\n              pageSize={pageSize}\r\n              currentPage={currentPage}\r\n              onChange={handleChangePage}\r\n            />\r\n            <p className='rooms-page__pagination-info'>\r\n              {`${(currentPage - 1) * pageSize || 1} - \r\n              ${pageSize * currentPage > rooms.length ? rooms.length : pageSize * currentPage}\r\n              из ${rooms?.length} вариантов аренды`}\r\n            </p>\r\n          </div>\r\n        )}\r\n      </section>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default RoomsPage;\r\n","import RoomsPage from './RoomsPage';\r\n\r\nexport default RoomsPage;\r\n","import React from 'react';\r\nimport { useParams } from 'react-router';\r\nimport Breadcrumbs from '../components/common/Breadcrumbs';\r\nimport Container from '../components/common/Container';\r\nimport Footer from '../components/common/Footer';\r\nimport Header from '../components/common/Header';\r\nimport RoomPage from '../components/pages/RoomPage';\r\nimport RoomsPage from '../components/pages/RoomsPage';\r\n\r\nconst Rooms = () => {\r\n  const { roomId } = useParams();\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Container>\r\n        <Breadcrumbs />\r\n        {roomId ? <RoomPage roomId={roomId} /> : <RoomsPage />}\r\n      </Container>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Rooms;\r\n","import Sidebar from './Sidebar';\r\n\r\nexport default Sidebar;\r\n","import SettingsIcon from '@mui/icons-material/Settings';\r\nimport { MenuItem, MenuList } from '@mui/material';\r\nimport React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { useAuth } from '../../../hooks';\r\nimport { userProfileRoutes, adminRoutes } from '../../../router/routes';\r\n\r\nconst Sidebar = () => {\r\n  const { currentUser } = useAuth();\r\n\r\n  const routes = currentUser.role === 'admin' ? adminRoutes : userProfileRoutes;\r\n  return (\r\n    <MenuList className='sidebar'>\r\n      {routes.map(route => (\r\n        <MenuItem\r\n          key={route.path}\r\n          name={route.name}\r\n          component={NavLink}\r\n          className='sidebar-menu__item'\r\n          to={route.path}\r\n          exact\r\n        >\r\n          {route?.icon} {route.name}\r\n        </MenuItem>\r\n      ))}\r\n      <MenuItem className='sidebar-menu__item' component={NavLink} name='edit' to='/profile/edit' exact>\r\n        <SettingsIcon />\r\n        Редактировать профиль\r\n      </MenuItem>\r\n    </MenuList>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import React from 'react';\r\nimport { Chip as MuiChip } from '@mui/material';\r\n\r\nconst Chip = ({ label, color, ...props }) => {\r\n  return <MuiChip label={label} color={color || 'primary'} {...props} />;\r\n};\r\n\r\nexport default Chip;\r\n","import AccountCircleIcon from '@mui/icons-material/AccountCircle';\r\nimport CancelIcon from '@mui/icons-material/Cancel';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\r\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp';\r\nimport { Collapse, IconButton, Tooltip } from '@mui/material';\r\nimport Box from '@mui/material/Box';\r\nimport Paper from '@mui/material/Paper';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TablePagination from '@mui/material/TablePagination';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport TableSortLabel from '@mui/material/TableSortLabel';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport Typography from '@mui/material/Typography';\r\nimport { visuallyHidden } from '@mui/utils';\r\nimport * as React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useFetching } from '../../../../hooks';\r\nimport bookingService from '../../../../services/booking.service';\r\nimport roomsService from '../../../../services/rooms.service';\r\nimport { getDateDDMMYYYY } from '../../../../utils/formatDate';\r\nimport Chip from '../../../common/Chip/Chip';\r\nimport { getGuestsLabel } from '../../GuestsCounter/GuestsCounter';\r\n\r\nfunction descendingComparator(a, b, orderBy) {\r\n  if (b[orderBy] < a[orderBy]) {\r\n    return -1;\r\n  }\r\n  if (b[orderBy] > a[orderBy]) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction getComparator(order, orderBy) {\r\n  return order === 'desc'\r\n    ? (a, b) => descendingComparator(a, b, orderBy)\r\n    : (a, b) => -descendingComparator(a, b, orderBy);\r\n}\r\n\r\nfunction stableSort(array, comparator) {\r\n  const stabilizedThis = array.map((el, index) => [el, index]);\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = comparator(a[0], b[0]);\r\n    if (order !== 0) {\r\n      return order;\r\n    }\r\n    return a[1] - b[1];\r\n  });\r\n  return stabilizedThis.map(el => el[0]);\r\n}\r\n\r\nconst headCells = [\r\n  {\r\n    id: 'numberRoom',\r\n    numeric: false,\r\n    disablePadding: false,\r\n    label: '№ Номера',\r\n  },\r\n  {\r\n    id: 'type',\r\n    numeric: false,\r\n    disablePadding: false,\r\n    label: 'Тип',\r\n  },\r\n  {\r\n    id: 'rate',\r\n    numeric: true,\r\n    disablePadding: false,\r\n    label: 'Рейтинг',\r\n  },\r\n  {\r\n    id: 'rentPerDay',\r\n    numeric: true,\r\n    disablePadding: false,\r\n    label: 'Аренда в сутки',\r\n  },\r\n  {\r\n    id: 'isBooked',\r\n    numeric: true,\r\n    disablePadding: false,\r\n    label: 'Статус',\r\n  },\r\n];\r\n\r\nfunction EnhancedTableHead(props) {\r\n  const { order, orderBy, onRequestSort } = props;\r\n  const createSortHandler = property => event => {\r\n    onRequestSort(event, property);\r\n  };\r\n\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n        {headCells.map(headCell => (\r\n          <TableCell\r\n            key={headCell.id}\r\n            align={headCell.numeric ? 'right' : 'left'}\r\n            padding={headCell.disablePadding ? 'none' : 'normal'}\r\n            sortDirection={orderBy === headCell.id ? order : false}\r\n          >\r\n            <TableSortLabel\r\n              active={orderBy === headCell.id}\r\n              direction={orderBy === headCell.id ? order : 'asc'}\r\n              onClick={createSortHandler(headCell.id)}\r\n            >\r\n              {headCell.label}\r\n              {orderBy === headCell.id ? (\r\n                <Box component='span' sx={visuallyHidden}>\r\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\r\n                </Box>\r\n              ) : null}\r\n            </TableSortLabel>\r\n          </TableCell>\r\n        ))}\r\n        <TableCell />\r\n      </TableRow>\r\n    </TableHead>\r\n  );\r\n}\r\n\r\nconst EnhancedTableToolbar = () => {\r\n  return (\r\n    <Toolbar>\r\n      <Typography sx={{ flex: '1 1 100%' }} variant='h5' id='tableTitle' component='div'>\r\n        Список всех номеров отеля\r\n      </Typography>\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nfunction Row(props) {\r\n  const { row } = props;\r\n  const [open, setOpen] = React.useState(false);\r\n  const [bookings, setBookings] = React.useState([]);\r\n\r\n  const [getBookings, bookingsIsLoading] = useFetching(async roomId => {\r\n    const { content } = await bookingService.getRoomBookings(roomId);\r\n    setBookings(content);\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    getBookings(row._id);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <TableRow sx={{ '& > *': { borderBottom: 'unset' } }}>\r\n        <TableCell component='th' scope='row'>\r\n          <Link to={`/rooms/${row.numberRoom}`}>{row.numberRoom}</Link>\r\n        </TableCell>\r\n        <TableCell>{row.type}</TableCell>\r\n        <TableCell align='right'>{row.rate}</TableCell>\r\n        <TableCell align='right'>{row.rentPerDay}&#8381;</TableCell>\r\n        <TableCell align='right'>\r\n          {bookings.length > 0 ? (\r\n            <>\r\n              <Chip\r\n                label='Забронирован'\r\n                color='error'\r\n                onDelete={() => setOpen(!open)}\r\n                deleteIcon={\r\n                  <Tooltip title='Подробнее'>\r\n                    <IconButton aria-label='expand row' size='small'>\r\n                      {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                }\r\n              />\r\n            </>\r\n          ) : (\r\n            <Chip label='Свободен' color='success' />\r\n          )}\r\n        </TableCell>\r\n        <TableCell align='right'>\r\n          <Tooltip title='Редактировать номер' disableInteractive={true}>\r\n            <IconButton\r\n              aria-label='expand row'\r\n              size='small'\r\n              color='primary'\r\n              onClick={() => console.log(`/rooms/${row.numberRoom}/edit`)}\r\n            >\r\n              <EditIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n        </TableCell>\r\n      </TableRow>\r\n\r\n      <TableRow>\r\n        <TableCell style={{ padding: 0 }} colSpan={6}>\r\n          <Collapse in={open} timeout='auto' unmountOnExit>\r\n            <Box sx={{ margin: 1 }}>\r\n              <Typography variant='h6' gutterBottom component='div'>\r\n                Список бронирований номера №{row.numberRoom}\r\n              </Typography>\r\n              <Table size='small' aria-label='purchases'>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Дата заезда</TableCell>\r\n                    <TableCell>Дата выезда</TableCell>\r\n                    <TableCell>Гостей</TableCell>\r\n                    <TableCell align='right'>Итоговая стоимость</TableCell>\r\n                    <TableCell />\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {bookings.map(bookingRow => (\r\n                    <TableRow key={bookingRow._id}>\r\n                      <TableCell component='th' scope='row'>\r\n                        {getDateDDMMYYYY(bookingRow.arrivalDate)}\r\n                      </TableCell>\r\n                      <TableCell>{getDateDDMMYYYY(bookingRow.departureDate)}</TableCell>\r\n                      <TableCell>{getGuestsLabel(bookingRow.adults, bookingRow.children, bookingRow.babies)}</TableCell>\r\n                      <TableCell align='right'>{bookingRow.totalPrice}&#8381;</TableCell>\r\n                      <TableCell>\r\n                        <Tooltip title='Страница пользователя' disableInteractive={true}>\r\n                          <IconButton\r\n                            aria-label='expand row'\r\n                            size='small'\r\n                            color='primary'\r\n                            onClick={() => console.log(bookingRow.userId)}\r\n                          >\r\n                            <AccountCircleIcon />\r\n                          </IconButton>\r\n                        </Tooltip>\r\n                        <Tooltip title='Отменить бронирование' disableInteractive={true}>\r\n                          <IconButton\r\n                            aria-label='expand row'\r\n                            size='small'\r\n                            color='error'\r\n                            onClick={() => console.log(bookingRow._id)}\r\n                          >\r\n                            <CancelIcon />\r\n                          </IconButton>\r\n                        </Tooltip>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            </Box>\r\n          </Collapse>\r\n        </TableCell>\r\n      </TableRow>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default function EnhancedTable() {\r\n  const [order, setOrder] = React.useState('desc');\r\n  const [orderBy, setOrderBy] = React.useState('numberRoom');\r\n  const [page, setPage] = React.useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\r\n  const [rooms, setRoomsList] = React.useState();\r\n\r\n  const [fetchingRooms, roomsIsLoading] = useFetching(async () => {\r\n    const { content } = await roomsService.getAll();\r\n    setRoomsList(content);\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    fetchingRooms();\r\n  }, []);\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === 'asc';\r\n    setOrder(isAsc ? 'desc' : 'asc');\r\n    setOrderBy(property);\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = event => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  const emptyRows = page > 0 ? Math.max(0, (1 + page) * rowsPerPage - rooms.length) : 0;\r\n\r\n  return (\r\n    <>\r\n      {!roomsIsLoading && (\r\n        <Box sx={{ width: '100%' }}>\r\n          <Paper sx={{ width: '100%', mb: 2 }}>\r\n            <EnhancedTableToolbar />\r\n            <TableContainer>\r\n              <Table sx={{ minWidth: 750 }} aria-labelledby='tableTitle' size='medium'>\r\n                <EnhancedTableHead\r\n                  order={order}\r\n                  orderBy={orderBy}\r\n                  onRequestSort={handleRequestSort}\r\n                  rowCount={rooms.length}\r\n                />\r\n                <TableBody>\r\n                  {stableSort(rooms, getComparator(order, orderBy))\r\n                    .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                    .map(row => (\r\n                      <Row key={row.numberRoom} row={row} />\r\n                    ))}\r\n                  {emptyRows > 0 && (\r\n                    <TableRow\r\n                      sx={{\r\n                        height: 65 * emptyRows,\r\n                      }}\r\n                    >\r\n                      <TableCell colSpan={6} />\r\n                    </TableRow>\r\n                  )}\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n            <TablePagination\r\n              rowsPerPageOptions={[5, 10, 25]}\r\n              component='div'\r\n              count={rooms.length}\r\n              rowsPerPage={rowsPerPage}\r\n              page={page}\r\n              onPageChange={handleChangePage}\r\n              onRowsPerPageChange={handleChangeRowsPerPage}\r\n            />\r\n          </Paper>\r\n        </Box>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import AdminDashboard from './AdminDashboard';\r\n\r\nexport default AdminDashboard;\r\n","import { Paper } from '@mui/material';\r\nimport React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { getDateDDMMYYYY } from '../../../../utils/formatDate';\r\nimport { getGuestsLabel } from '../../GuestsCounter/GuestsCounter';\r\nimport Button from '../../../common/Button';\r\nimport { useFetching } from '../../../../hooks';\r\nimport roomsService from '../../../../services/rooms.service';\r\nimport { useEffect } from 'react';\r\nimport RoomCard from '../../rooms/RoomCard';\r\n\r\nconst BookingCard = ({ _id, arrivalDate, departureDate, adults, children, babies, totalPrice, roomId, onRemove }) => {\r\n  const [room, setRoom] = useState();\r\n\r\n  const [fetchRoom, roomIsLoading] = useFetching(async roomId => {\r\n    const { content } = await roomsService.getById(roomId);\r\n    setRoom(content);\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchRoom(roomId);\r\n  }, []);\r\n\r\n  return (\r\n    !roomIsLoading && (\r\n      <Paper className='booking-card'>\r\n        <div className='booking-card__wrapper'>\r\n          <div className='booking-content'>\r\n            <h2>\r\n              Номер: №<span>{roomId}</span>\r\n            </h2>\r\n            <h3 className='booking-info__title'>Информация о бронировании</h3>\r\n            <table className='booking-info'>\r\n              <tbody className='booking-info__body'>\r\n                <tr className='booking-info__item'>\r\n                  <td>Дата прибытия:</td>\r\n                  <td>\r\n                    <span>{`${getDateDDMMYYYY(arrivalDate)}`}</span>\r\n                  </td>\r\n                </tr>\r\n                <tr className='booking-info__item'>\r\n                  <td>Дата выезда:</td>\r\n                  <td>\r\n                    <span>{`${getDateDDMMYYYY(departureDate)}`}</span>\r\n                  </td>\r\n                </tr>\r\n                <tr className='booking-info__item'>\r\n                  <td>Количество гостей:</td>\r\n                  <td>\r\n                    <span>{getGuestsLabel(adults, children, babies)}</span>\r\n                  </td>\r\n                </tr>\r\n                <tr className='booking-info__item'>\r\n                  <td>Стоимость бронирования:</td>\r\n                  <td>\r\n                    <span>{`${totalPrice}`}&#8381;</span>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div className='booking-card__btns'>\r\n            <div style={{ width: '100%' }}>\r\n              <RoomCard {...room} />\r\n            </div>\r\n            <Link to={`/rooms/${roomId}`}>\r\n              <Button size='small' fullWidth>\r\n                Перейти на страницу номера\r\n              </Button>\r\n            </Link>\r\n            <Button size='small' variant='outlined' color='error' onClick={() => onRemove(_id)}>\r\n              Отменить бронирование\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Paper>\r\n    )\r\n  );\r\n};\r\n\r\nexport default BookingCard;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useAuth } from '../../../../hooks/useAuth';\r\nimport useFetching from '../../../../hooks/useFetching';\r\nimport bookingService from '../../../../services/booking.service';\r\nimport BookingCard from '../../booking/BookingCard/BookingCard';\r\n\r\nconst ProfileBooking = () => {\r\n  const [bookings, setBookings] = useState([]);\r\n  const { currentUser } = useAuth();\r\n\r\n  const [getUserBookings, userBookingsLoading] = useFetching(async () => {\r\n    const { content } = await bookingService.getUserBookings(currentUser._id);\r\n    setBookings(content);\r\n  });\r\n\r\n  useEffect(() => {\r\n    getUserBookings();\r\n  }, []);\r\n\r\n  const handleRemoveBooking = async bookingId => {\r\n    try {\r\n      const id = await bookingService.remove(bookingId);\r\n      setBookings(prevState => prevState.filter(booking => booking._id !== id));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: '100%' }}>\r\n      <h1 style={{ marginBottom: '20px' }}>Мои бронирования</h1>\r\n      <div className='booking-list' style={{ width: '100%' }}>\r\n        {!userBookingsLoading &&\r\n          bookings.map(booking => <BookingCard key={booking._id} {...booking} onRemove={handleRemoveBooking} />)}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileBooking;\r\n","import ProfileBooking from './ProfileBooking';\r\n\r\nexport default ProfileBooking;\r\n","import ProfileEdit from './ProfileEdit';\r\n\r\nexport default ProfileEdit;\r\n","import React from 'react';\r\n\r\nconst ProfileEdit = () => {\r\n  return (\r\n    <main className='profile-edit'>\r\n      <h1>Profile edit</h1>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default ProfileEdit;\r\n","import ProfileFavorites from './ProfileFavorites';\r\n\r\nexport default ProfileFavorites;\r\n","import React from 'react';\r\n\r\nconst ProfileFavorites = () => {\r\n  return <h1>Profile Favorites</h1>;\r\n};\r\n\r\nexport default ProfileFavorites;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useAuth } from '../../../../hooks';\r\nimport likesService from '../../../../services/likes.service';\r\nimport reviewsService from '../../../../services/reviews.service';\r\nimport ReviewsList from '../../reviews/ReviewsList';\r\n\r\nconst ProfileLikes = () => {\r\n  console.log('render');\r\n  const [likes, setLikes] = useState();\r\n  const [reviews, setReviews] = useState([]);\r\n  const { currentUser } = useAuth();\r\n\r\n  const getLikes = async userId => {\r\n    try {\r\n      const likes = await likesService.getByUserId(userId);\r\n      setLikes(likes);\r\n      const reviewIds = likes.map(el => el.reviewId);\r\n      const reviews = await reviewsService.getByReviewsIds(reviewIds);\r\n      setReviews(reviews);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const removeReview = async id => {\r\n    try {\r\n      const reviewId = await reviewsService.remove(id);\r\n      setReviews(prevState => prevState.filter(review => review._id !== reviewId));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getLikes(currentUser._id);\r\n  }, [currentUser._id]);\r\n\r\n  return (\r\n    <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n      <h1 style={{ marginBottom: '20px' }}>Вам понравились отзывы:</h1>\r\n      <ReviewsList reviews={reviews} handleRemove={removeReview} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileLikes;\r\n","import ProfileLikes from './ProfileLikes';\r\n\r\nexport default ProfileLikes;\r\n","import UserProfile from './UserProfile';\r\n\r\nexport default UserProfile;\r\n","import React from 'react';\r\nimport { useAuth } from '../../../../hooks';\r\n\r\nconst UserProfile = () => {\r\n  const { currentUser } = useAuth();\r\n  const { firstName, secondName } = currentUser;\r\n\r\n  return (\r\n    <main className='main-profile__page'>\r\n      <h1 className='visually-hidden'>Профиль пользователя отеля toxin</h1>\r\n      <h2>Приветствуем вас {`${firstName} ${secondName}`}</h2>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n","import ProfilePage from './ProfilePage';\r\n\r\nexport default ProfilePage;\r\n","import React from 'react';\r\nimport { Redirect, useParams } from 'react-router';\r\nimport { useAuth } from '../../../hooks';\r\nimport Sidebar from '../../common/Sidebar';\r\nimport AdminDashboard from '../../ui/profile/AdminDashboard';\r\nimport ProfileBooking from '../../ui/profile/ProfileBooking';\r\nimport ProfileEdit from '../../ui/profile/ProfileEdit';\r\nimport ProfileFavorites from '../../ui/profile/ProfileFavorites';\r\nimport ProfileLikes from '../../ui/profile/ProfileLikes';\r\nimport UserProfile from '../../ui/profile/UserProfile';\r\n\r\nconst ProfilePage = userId => {\r\n  const { route } = useParams();\r\n  console.log(route);\r\n  const { currentUser } = useAuth();\r\n\r\n  const renderComponent = route => {\r\n    switch (route) {\r\n      case 'edit':\r\n        return <ProfileEdit />;\r\n      case 'booking':\r\n        return <ProfileBooking />;\r\n      case 'likes':\r\n        return <ProfileLikes />;\r\n      case 'favorites':\r\n        return <ProfileFavorites />;\r\n      case 'dashboard':\r\n        if (currentUser.role === 'admin') {\r\n          return <AdminDashboard />;\r\n        } else {\r\n          return <Redirect to={`/profile/${currentUser._id}`} />;\r\n        }\r\n      default:\r\n        return <UserProfile />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='profile-page'>\r\n      <aside className='profile-sidebar'>\r\n        <Sidebar />\r\n      </aside>\r\n      {renderComponent(route)}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfilePage;\r\n","import React from 'react';\r\nimport { useParams } from 'react-router';\r\nimport Breadcrumbs from '../components/common/Breadcrumbs';\r\nimport Container from '../components/common/Container';\r\nimport Footer from '../components/common/Footer/Footer';\r\nimport Header from '../components/common/Header/Header';\r\nimport ProfilePage from '../components/pages/ProfilePage';\r\nimport { useAuth } from '../hooks';\r\n\r\nconst Profile = () => {\r\n  const params = useParams();\r\n  const { userId } = params;\r\n  const { currentUser } = useAuth();\r\n  console.log(userId);\r\n  console.log(currentUser);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Container>\r\n        <Breadcrumbs />\r\n        <ProfilePage />\r\n      </Container>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import Login from '../layouts/login';\r\nimport Main from '../layouts/main';\r\nimport Rooms from '../layouts/rooms';\r\nimport Profile from '../layouts/profile';\r\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\r\nimport FavoriteBorderIcon from '@mui/icons-material/FavoriteBorder';\r\nimport StarBorderIcon from '@mui/icons-material/StarBorder';\r\nimport BookmarkBorderIcon from '@mui/icons-material/BookmarkBorder';\r\nimport AdminPanelSettingsIcon from '@mui/icons-material/AdminPanelSettings';\r\n\r\nexport const userProfileRoutes = [\r\n  { path: '/profile', name: 'Профиль', icon: <AccountCircleIcon /> },\r\n  { path: '/profile/booking', name: 'Мои бронирования', icon: <StarBorderIcon /> },\r\n  { path: '/profile/likes', name: 'Понравилось', icon: <FavoriteBorderIcon /> },\r\n  { path: '/profile/favorites', name: 'Избранное', icon: <BookmarkBorderIcon /> },\r\n];\r\n\r\nexport const adminRoutes = [\r\n  { path: '/profile/', name: 'Профиль', icon: <AccountCircleIcon /> },\r\n  { path: '/profile/dashboard', name: 'Панель администратора', icon: <AdminPanelSettingsIcon /> },\r\n  { path: '/profile/booking', name: 'Мои бронирования', icon: <StarBorderIcon /> },\r\n  { path: '/profile/likes', name: 'Понравилось', icon: <FavoriteBorderIcon /> },\r\n  { path: '/profile/favorites', name: 'Избранное', icon: <BookmarkBorderIcon /> },\r\n];\r\n\r\nexport const navigationRoutes = [\r\n  { path: '/rooms', name: 'Доступные номера' },\r\n  { path: '/services', name: 'Услуги' },\r\n  { path: '/vacancy', name: 'Вакансии' },\r\n  { path: '/news', name: 'Новости' },\r\n  { path: '/agreement', name: 'Соглашения' },\r\n];\r\n\r\nexport const publicRoutes = [\r\n  { path: '/login/:type?', component: Login },\r\n  { path: '/rooms/:roomId?/', component: Rooms },\r\n  { path: '/', component: Main, exact: true },\r\n];\r\n\r\nexport const privateRoutes = [{ path: '/profile/:route?', component: Profile, exact: true }];\r\n","import AppRouter from './AppRouter';\r\n\r\nexport default AppRouter;\r\n","import React from 'react';\r\nimport { publicRoutes, privateRoutes } from '../routes';\r\nimport { Switch, Route, Redirect } from 'react-router';\r\nimport { useAuth } from '../../hooks';\r\n\r\nconst AppRouter = () => {\r\n  const { currentUser } = useAuth();\r\n\r\n  return (\r\n    <Switch>\r\n      {publicRoutes.map(route =>\r\n        route.path ? <Route path={route.path} component={route.component} exact={route.exact} key={route.path} /> : null\r\n      )}\r\n      {currentUser &&\r\n        privateRoutes.map(route =>\r\n          route.path ? (\r\n            <Route path={route.path} component={route.component} exact={route.exact} key={route.path} />\r\n          ) : null\r\n        )}\r\n      <Redirect to={currentUser ? '/' : 'login/signIn'} />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default AppRouter;\r\n","import { createTheme } from '@mui/material/styles';\r\n\r\nconst theme = createTheme({\r\n  typography: {\r\n    useNextVariants: true,\r\n    fontFamily: \"'Montserrat', sans-serif !important\",\r\n    fontSize: 14,\r\n  },\r\n});\r\n\r\nexport default theme;\r\n","import { CssBaseline, ThemeProvider } from '@mui/material';\r\nimport React from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport AppRouter from './router/AppRouter';\r\nimport { AuthProvider } from './hooks';\r\nimport './scss/app.scss';\r\nimport theme from './theme';\r\n\r\nconst App = () => {\r\n  return (\r\n    <>\r\n      <ThemeProvider theme={theme}>\r\n        <CssBaseline />\r\n        <AuthProvider>\r\n          <AppRouter />\r\n        </AuthProvider>\r\n      </ThemeProvider>\r\n      <ToastContainer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from './app/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}